<!DOCTYPE html>
<!-- saved from url=(0094)http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save -->
<html itemscope="" itemtype="http://schema.org/QAPage"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>ruby - Why does my rails rollback when I try to user.save? - Stack Overflow</title>
    <link rel="shortcut icon" href="http://cdn.sstatic.net/Sites/stackoverflow/img/favicon.ico?v=4f32ecc8f43d">
    <link rel="apple-touch-icon image_src" href="http://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a">
    <link rel="search" type="application/opensearchdescription+xml" title="Stack Overflow" href="http://stackoverflow.com/opensearch.xml">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:domain" content="stackoverflow.com">
    <meta property="og:type" content="website">

    <meta property="og:image" itemprop="image primaryImageOfPage" content="http://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon@2.png?v=73d79a89bded&amp;a">
    <meta name="twitter:title" property="og:title" itemprop="title name" content="Why does my rails rollback when I try to user.save?">
    <meta name="twitter:description" property="og:description" itemprop="description" content="I have installed the RailsTutorial sample app(the twitter like application) and am trying to understand why the following piece of console code does not update the database when I try updating the ...">
    <meta property="og:url" content="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save">
    <link rel="canonical" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save">

    
    
    <script type="text/javascript" async="" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/ados"></script><script async="" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/quant.js"></script><script async="" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/beacon.js"></script><script async="" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/analytics.js"></script><script type="text/javascript" async="" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/ados.js"></script><script src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/jquery.min.js"></script>
    <script src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/stub.en.js"></script>
    <link rel="stylesheet" type="text/css" href="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/all.css">

            <link rel="alternate" type="application/atom+xml" title="Feed for question &#39;Why does my rails rollback when I try to user.save?&#39;" href="http://stackoverflow.com/feeds/question/19037733">
            <meta name="twitter:app:country" content="US">
            <meta name="twitter:app:name:iphone" content="Stack Exchange iOS">
            <meta name="twitter:app:id:iphone" content="871299723">
            <meta name="twitter:app:url:iphone" content="se-zaphod://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save">
            <meta name="twitter:app:name:ipad" content="Stack Exchange iOS">
            <meta name="twitter:app:id:ipad" content="871299723">
            <meta name="twitter:app:url:ipad" content="se-zaphod://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save">
            <meta name="twitter:app:name:googleplay" content="Stack Exchange Android">
            <meta name="twitter:app:url:googleplay" content="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save">
            <meta name="twitter:app:id:googleplay" content="com.stackexchange.marvin">
        <script>
        
            StackExchange.ready(function () {
                    
                    StackExchange.using("snippets", function () {
                        StackExchange.snippets.initSnippetRenderer();
                    });
                    

                StackExchange.using("postValidation", function () {
                    StackExchange.postValidation.initOnBlurAndSubmit($('#post-form'), 2, 'answer');
                });

                
                StackExchange.question.init({votesCast:[],autoShowCommentHelp:true,showAnswerHelp:true,totalCommentCount:5,shownCommentCount:5,highlightColor:'#F4A83D',backgroundColor:'#FFF',questionId:19037733});

                styleCode();

                    StackExchange.realtime.subscribeToQuestion('1', '19037733');
                                                                    StackExchange.using("gps", function () { StackExchange.gps.trackOutboundClicks('#content', '.post-text'); });

            });
        </script>


    <script>
        StackExchange.init({"locale":"en","stackAuthUrl":"https://stackauth.com","networkMetaHostname":"meta.stackexchange.com","serverTime":1475579869,"routeName":"Questions/Show","site":{"name":"Stack Overflow","description":"Q&A for professional and enthusiast programmers","isNoticesTabEnabled":true,"recaptchaPublicKey":"6LdchgIAAAAAAJwGpIzRQSOFaO0pU6s44Xt8aTwc","recaptchaAudioLang":"en","enableNewTagCreationWarning":true,"insertSpaceAfterNameTabCompletion":false,"id":1,"enableInsertDocLinkDialog":true,"enableSocialMediaInSharePopup":true},"user":{"fkey":"f9789ed4250766d7397fb73311c720f1","rep":1,"isRegistered":true,"userType":3,"userId":6797740,"accountId":9139245,"gravatar":"<div class=\"gravatar-wrapper-32\"><img src=\"https://i.stack.imgur.com/YhWHT.jpg?s=32&amp;g=1\" alt=\"\" width=\"32\" height=\"32\"></div>","profileUrl":"http://stackoverflow.com/users/6797740/tomstuart92","canSeeDeletedPosts":false}}, {"site":{"allowImageUploads":true,"enableUserHovercards":true,"styleCode":true,"enableNewLinkInsertDialog":true},"tags":{},"accounts":{"currentPasswordRequiredForChangingStackIdPassword":true},"flags":{"allowRetractingFlags":true},"snippets":{"snippetsEnabled":true,"renderDomain":"stacksnippets.net"},"markdown":{"asteriskIntraWordEmphasis":true}});
        StackExchange.using.setCacheBreakers({"js/prettify-full.en.js":"b70d4b0a048c","js/moderator.en.js":"224639e4d81f","js/full-anon.en.js":"5ad243322808","js/full.en.js":"d135407b299b","js/wmd.en.js":"bd706a402e08","js/third-party/jquery.autocomplete.min.js":"e5f01e97f7c3","js/third-party/jquery.autocomplete.min.en.js":"","js/mobile.en.js":"433c9c87f0ef","js/help.en.js":"a2f92aacc060","js/tageditor.en.js":"1d50aaf81026","js/tageditornew.en.js":"5f4d5136d0b1","js/inline-tag-editing.en.js":"a815357d00cd","js/revisions.en.js":"cf90cfea0ccf","js/review.en.js":"7020bbf0dbd2","js/tagsuggestions.en.js":"d1ff9b84abe5","js/post-validation.en.js":"0bc8c0d431b4","js/explore-qlist.en.js":"e71f14781288","js/events.en.js":"e8bb8851e628","js/keyboard-shortcuts.en.js":"b766463415ee","js/external-editor.en.js":"fc20a49e5703","js/external-editor.en.js":"fc20a49e5703","js/snippet-javascript.en.js":"bb9cbf50086e","js/snippet-javascript-codemirror.en.js":"2c1bf235e4fe"});
        StackExchange.using("gps", function() {
             StackExchange.gps.init(true);
        });
    </script>
    
<script async="" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/full.en.js"></script><script async="" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/snippet-javascript.en.js"></script><script async="" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/post-validation.en.js"></script><script async="" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/prettify-full.en.js"></script><script async="" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/external-editor.en.js"></script><script async="" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/wmd.en.js"></script><style type="text/css"> .wmd-snippet-button span { background-position: 0 0; } .wmd-snippet-button:hover span { background-position: 0 -40px; }</style><script type="text/javascript" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/adFeedback.js"></script><link rel="stylesheet" href="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/adFeedback.css"><link type="text/css" rel="stylesheet" href="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/jobs-multi.min.css"></head>
<body class="question-page new-topbar">
    <noscript>&lt;div id="noscript-padding"&gt;&lt;/div&gt;</noscript>
            <script>(function () { var old = $.fn.contents; $.fn.contents = function () { try { return old.apply(this, arguments); } catch (e) { return $([]); } } })()</script>
        




    <div id="notify-container"></div>
    <div id="custom-header"></div>





<div class="topbar">
    <div class="topbar-wrapper">

        <div class="js-topbar-dialog-corral">


<div class="topbar-dialog siteSwitcher-dialog dno">
    <div class="header">
        <h3><a href="http://stackoverflow.com/">current community</a></h3>
    </div>
    <div class="modal-content current-site-container">
        <ul class="current-site">
                <li>
                        <div class="related-links">
                    <a href="http://chat.stackoverflow.com/" class="js-gps-track" data-gps-track="site_switcher.click({ item_type:6 })">chat</a>
                    <a href="http://stackoverflow.com/users/logout" class="js-gps-track" data-gps-track="site_switcher.click({ item_type:8 })">log out</a>
    </div>




    <a href="http://stackoverflow.com/" class="current-site-link site-link js-gps-track" data-id="1" data-gps-track="
        site_switcher.click({ item_type:3 })">
        <div class="site-icon favicon favicon-stackoverflow" title="Stack Overflow"></div>
        Stack Overflow
    </a>

                </li>
                <li class="related-site">
                        <div class="L-shaped-icon-container">
        <span class="L-shaped-icon"></span>
    </div>

                    



    <a href="http://meta.stackoverflow.com/" class="site-link js-gps-track" data-id="552" data-gps-track="
            site.switch({ target_site:552, item_type:3 }),
        site_switcher.click({ item_type:4 })">
        <div class="site-icon favicon favicon-stackoverflowmeta" title="Meta Stack Overflow"></div>
        Meta Stack Overflow
    </a>

                </li>
        </ul>
    </div>
    <div class="header" id="your-communities-header">
        <h3>
                <a href="http://stackexchange.com/users/9139245/?tab=accounts">your communities</a>
        </h3>
            
            <a href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" id="edit-pinned-sites">edit</a>
            <a href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" id="cancel-pinned-sites" style="display: none;">cancel</a>
    </div>
    <div class="modal-content" id="your-communities-section">
            
            <ul class="my-sites">
                    <li>
                        



    <a href="http://stackoverflow.com/" class="site-link js-gps-track" data-id="1" data-gps-track="
            site.switch({ target_site:1, item_type:3 }),
        site_switcher.click({ item_type:1 })">
        <div class="site-icon favicon favicon-stackoverflow" title="Stack Overflow"></div>
        Stack Overflow
            <span class="rep-score">1</span>
    </a>

                    </li>
            </ul>
                <div class="pinned-site-editor-container" style="display: none;">
                    <input id="js-site-search-txt" type="text" class="site-filter-input" value="" placeholder="Add a Stack Exchange community">
                    <input type="submit" id="pin-site-btn" value="Add" disabled="disabled">
                    <ul class="js-found-sites found-sites"></ul>
                    <ul class="pinned-site-list sortable" data-custom-list="False">
                    </ul>
                    <input type="submit" value="Save" id="save-pinned-sites-btn" disabled="disabled">
                    <a href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" id="reset-pinned-sites">reset to default list</a>
                </div>
    </div>
    <div class="header">
        <h3><a href="http://stackexchange.com/sites">more stack exchange communities</a></h3>
        <a href="http://blog.stackoverflow.com/" class="fr">company blog</a>
    </div>
    <div class="modal-content">
            <div class="child-content"></div>
    </div>
</div>
        </div>

        <div class="network-items">
                <a href="http://stackexchange.com/" class="topbar-icon icon-site-switcher yes-hover js-site-switcher-button js-gps-track" data-gps-track="site_switcher.show" title="A list of all 161 Stack Exchange sites">
                    <span class="hidden-text">Stack Exchange</span>
                </a>

    <a href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" class="topbar-icon icon-inbox yes-hover js-inbox-button" title="Recent inbox messages">
        <span class="hidden-text">Inbox</span>
        <span class="unread-count" style="display:none"></span>
    </a>
    <a href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" class="topbar-icon icon-achievements yes-hover js-achievements-button" data-unread-class="" title="Recent achievements: reputation, badges, and privileges earned">
        <span class="hidden-text">Reputation and Badges</span>
        <span class="unread-count" style="display:none">
            
        </span>
    </a>
        </div>

        <div class="topbar-links">

                <a href="http://stackoverflow.com/users/6797740/tomstuart92" class="profile-me js-gps-track" data-gps-track="profile_summary.click()">
                    
                    <div class="gravatar-wrapper-24" title="TomStuart92"><img src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/YhWHT.jpg" alt="" width="24" height="24" class="avatar-me js-avatar-me"></div>

                    <div class="links-container topbar-flair">

                        <span class="reputation" title="your reputation: 1">
                            1
                        </span>
                    </div>
                </a>
                <div class="links-container">
                    <span class="topbar-menu-links">




        <a href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" class="icon-help js-help-button" title="Help Center and other resources">
            help
            <span class="triangle"></span>
        </a>
    <div class="topbar-dialog help-dialog js-help-dialog dno">
        <div class="modal-content">
            <ul>
                                    <li>
                        <a href="http://stackoverflow.com/tour" class="js-gps-track" data-gps-track="help_popup.click({ item_type:1 })">
                            Tour
                            <span class="item-summary">
                                Start here for a quick overview of the site
                            </span>
                        </a>
                    </li>
                <li>
                    <a href="http://stackoverflow.com/help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:4 })">
                        Help Center
                        <span class="item-summary">
                            Detailed answers to any questions you might have
                        </span>
                    </a>
                </li>
                        <li>
                            <a href="http://meta.stackoverflow.com/" class="js-gps-track" data-gps-track="help_popup.click({ item_type:2 })">
                                Meta
                                <span class="item-summary">
                                    Discuss the workings and policies of this site
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="http://stackoverflow.com/company/about" class="js-gps-track" data-gps-track="help_popup.click({ item_type:6 })">
                                About Us
                                <span class="item-summary">
                                    Learn more about Stack Overflow the company
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="http://business.stackoverflow.com/?ref=topbar_help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:7 })">
                                Business
                                <span class="item-summary">
                                    Learn more about hiring developers or posting ads with us
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
                                            </span>
                </div>

            <div class="search-container">
                <form id="search" action="http://stackoverflow.com/search" method="get" autocomplete="off">
                    <input name="q" type="text" placeholder="Search Q&amp;A" value="" tabindex="1" autocomplete="off" maxlength="240">
                </form>
            </div>

        </div>
    </div>
</div>
    <script>
        StackExchange.ready(function() { StackExchange.topbar.init(); });
    </script>

    <div class="container">
        <div id="header">
            <br class="cbt">
            <div id="hlogo">
                <a href="http://stackoverflow.com/">
                    Stack Overflow
                </a>
            </div>
            <div id="hmenus">
                <div class="nav mainnavs">
                    <ul>
                        <li class="youarehere"><a id="nav-questions" href="http://stackoverflow.com/questions">Questions</a></li>
                            <li><a id="nav-jobs" href="http://stackoverflow.com/jobs?med=site-ui&amp;ref=jobs-tab">Jobs</a></li>
                                                <li><a id="nav-docs" href="http://stackoverflow.com/documentation">Documentation</a></li>
                        <li><a id="nav-tags" href="http://stackoverflow.com/tags">Tags</a></li>
                        <li><a id="nav-users" href="http://stackoverflow.com/users">Users</a></li>
                        <li><a id="nav-badges" href="http://stackoverflow.com/help/badges">Badges</a></li>
                    </ul>
                </div>
                <div class="nav askquestion">
                    <ul>
                        <li>
                            <a id="nav-askquestion" href="http://stackoverflow.com/questions/ask">Ask Question</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        



        <div id="content" class="snippet-hidden">
            

<div itemscope="" itemtype="http://schema.org/Question">
    <link itemprop="image" href="http://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a">
			<div id="question-header">
                <h1 itemprop="name"><a href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save" class="question-hyperlink">Why does my rails rollback when I try to user.save?</a></h1>
		</div>
			<div id="mainbar">

			

<div class="question" data-questionid="19037733" id="question">

    <script>
                var ados = ados || {}; ados.run = ados.run || [];
                ados.run.push(function () { ados_add_placement(22,8277,"adzerk1366381168",4).setZone(43); });
            </script>
            <div class="everyonelovesstackoverflow adzerk-vote" id="adzerk1366381168"><a href="http://engine.adzerk.net/r?e=eyJhdiI6NDE0LCJhdCI6NCwiYnQiOjAsImNtIjo0NzE0OTMsImNoIjoxMTc4LCJjayI6e30sImNyIjoxNjM4OTg1LCJkaSI6IjljOGExYzUwYzE2MTRmMDA5MjMyNzNhYTE4NzE0OGMzIiwiZG0iOjEsImZjIjoxOTQzNDM2LCJmbCI6MjE0MjMxMiwiaXAiOiIxODUuNTMuMjI3LjcwIiwia3ciOiJydWJ5LW9uLXJhaWxzLHJ1YnkscmFpbHN0dXRvcmlhbC5vcmcseC11c2VyLXJlZ2lzdGVyZWQiLCJudyI6MjIsInBjIjowLCJlYyI6MCwicHIiOjE2MDQsInJ0IjoxLCJyZiI6Imh0dHBzOi8vd3d3Lmdvb2dsZS5jby51ay8iLCJzdCI6ODI3NywidWsiOiJ1ZTEtMDA2NzFjNGE3NDVkNDVhZTk3NjFhNWU5ODUyYzU5MjEiLCJ6biI6NDMsInRzIjoxNDc1NTc5ODcwNjkwLCJiZiI6dHJ1ZSwicG4iOiJhZHplcmsxMzY2MzgxMTY4IiwidXIiOiJodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vam9icz91dG1fc291cmNlPXdlYnNpdGUmdXRtX21lZGl1bT1iYW5uZXImdXRtX2NvbnRlbnQ9bGVhZGVyYm9hcmRfNyZ1dG1fY2FtcGFpZ249aG91c2VfYWRzX2hvdXNlX2Fkc19ST1NfU08ifQ&amp;s=_C5pU-SYQbU8Gce4ZgS4dXQ7Kw8" rel="nofollow" target="_blank" title=""><img src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/1c1bfa72ac5a41cfb32fb62d2188c02a.png" title="" alt="" border="0" width="728" height="90"></a><div class="adzerk-vote-controls" style="display:none;"><div class="adzerk-vote-option adzerk-vote-up"><div class="adzerk-vote-icon"></div></div><div class="adzerk-vote-option adzerk-vote-down"><div class="adzerk-vote-icon"></div></div></div><div class="adzerk-vote-survey" style="display:none;"><form><span>No problem. We won't show you that ad again. Why didn't you like it?</span><ul><li><label><input type="radio" value="12" name="downvoteReason">Uninteresting</label></li><li><label><input type="radio" value="13" name="downvoteReason">Misleading</label></li><li><label><input type="radio" value="14" name="downvoteReason">Offensive</label></li><li><label><input type="radio" value="15" name="downvoteReason">Repetitive</label></li><li><label><input type="radio" value="16" name="downvoteReason">Other</label></li></ul><a href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" class="adzerk-vote-cancel">Oops! I didn't mean to do this.</a></form></div><img height="0px" width="0px" border="0" style="position:absolute;" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/i.gif"></div>    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="19037733">
        <a class="vote-up-off" title="This question shows research effort; it is useful and clear">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">18</span>
        <a class="vote-down-off" title="This question does not show any research effort; it is unclear or not useful">down vote</a>

        <a class="star-off" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" title="Click to mark as favorite question (click again to undo)">favorite</a>
        <div class="favoritecount"><b>8</b></div>


</div>

            </td>
            
<td class="postcell">
<div>
    <div class="post-text" itemprop="text">

<p>I have installed the RailsTutorial sample app(the twitter like application) and am trying to understand why the following piece of console code does not update the database when I try updating the user db. I am expecting the user information to get updated once I use the <code>user.save</code>. However, this rolls back to unedited data. Is this due to a user based restriction? </p>

<p>Users controller:</p>

<pre class="lang-rb prettyprint prettyprinted"><code><span class="kwd">class</span><span class="pln"> </span><span class="typ">UsersController</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="typ">ApplicationController</span><span class="pln">

</span><span class="com">#before_filter :signed_in_user, only: [:index, :edit, :update, :destroy, :following, :followers]</span><span class="pln">
</span><span class="com"># By default before filters apply to all actions</span><span class="pln">
</span><span class="com">#before_filter :correct_user, only: [:edit, :update]</span><span class="pln">
  </span><span class="kwd">def</span><span class="pln"> edit
    </span><span class="lit">@user</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="typ">User</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">params</span><span class="pun">[:</span><span class="pln">id</span><span class="pun">])</span><span class="pln">
  </span><span class="kwd">end</span><span class="pln">

  </span><span class="kwd">def</span><span class="pln"> update

    </span><span class="lit">@user</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="typ">User</span><span class="pun">.</span><span class="pln">find params</span><span class="pun">[:</span><span class="pln">id</span><span class="pun">]</span><span class="pln">

    respond_to </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">|</span><span class="pln">format</span><span class="pun">|</span><span class="pln">

    </span><span class="kwd">if</span><span class="pln"> </span><span class="lit">@user</span><span class="pun">.</span><span class="pln">update_attributes</span><span class="pun">(</span><span class="pln">params</span><span class="pun">[:</span><span class="pln">user</span><span class="pun">])</span><span class="pln">
      flash</span><span class="pun">[:</span><span class="pln">notice</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Profile updated"</span><span class="pln">
      format</span><span class="pun">.</span><span class="pln">html </span><span class="pun">{</span><span class="pln"> redirect_to</span><span class="pun">(</span><span class="lit">@user</span><span class="pun">,</span><span class="pln"> </span><span class="pun">:</span><span class="pln">notice </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="str">'User was successfully updated.'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
      format</span><span class="pun">.</span><span class="pln">json </span><span class="pun">{</span><span class="pln"> respond_with_bip</span><span class="pun">(</span><span class="lit">@user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">else</span><span class="pln">

      format</span><span class="pun">.</span><span class="pln">html </span><span class="pun">{</span><span class="pln"> render </span><span class="pun">:</span><span class="pln">action </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="str">"edit"</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
      format</span><span class="pun">.</span><span class="pln">json </span><span class="pun">{</span><span class="pln"> respond_with_bip</span><span class="pun">(</span><span class="lit">@user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">
 </span><span class="kwd">end</span><span class="pln">

  private


  </span><span class="kwd">def</span><span class="pln"> correct_user
    </span><span class="lit">@user</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="typ">User</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">params</span><span class="pun">[:</span><span class="pln">id</span><span class="pun">])</span><span class="pln">
    redirect_to</span><span class="pun">(</span><span class="pln">root_path</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">unless</span><span class="pln"> current_user</span><span class="pun">?(</span><span class="lit">@user</span><span class="pun">)</span><span class="pln">
  </span><span class="kwd">end</span><span class="pln">

  </span><span class="kwd">def</span><span class="pln"> admin_user
    redirect_to</span><span class="pun">(</span><span class="pln">root_path</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">unless</span><span class="pln"> current_user</span><span class="pun">.</span><span class="pln">admin</span><span class="pun">?</span><span class="pln">
  </span><span class="kwd">end</span><span class="pln">


</span><span class="kwd">end</span></code></pre>

<p>Rails console:</p>

<pre class="lang-rb prettyprint prettyprinted"><code><span class="lit">1.9</span><span class="pun">.</span><span class="lit">3</span><span class="pun">-</span><span class="pln">p392 </span><span class="pun">:</span><span class="lit">001</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> user </span><span class="pun">=</span><span class="pln"> </span><span class="typ">User</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="lit">109</span><span class="pun">)</span><span class="pln">


</span><span class="typ">User</span><span class="pln"> </span><span class="typ">Load</span><span class="pln"> </span><span class="pun">(</span><span class="lit">8.2ms</span><span class="pun">)</span><span class="pln">  SELECT </span><span class="str">"users"</span><span class="pun">.*</span><span class="pln"> FROM </span><span class="str">"users"</span><span class="pln"> WHERE </span><span class="str">"users"</span><span class="pun">.</span><span class="str">"id"</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> LIMIT </span><span class="lit">1</span><span class="pln">  </span><span class="pun">[[</span><span class="str">"id"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">109</span><span class="pun">]]</span><span class="pln">
 </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="com">#&lt;User id: 109, name: "laurie", email: "auriepage@gmail.com", created_at: "2013-09-26 18:10:12", updated_at: "2013-09-26 18:10:12", password_digest: "$2a$10$aXEtun8Z2Deqy2wNxvFRNOjPczKQkYc1vDezP5OduJuF...", remember_token: "YhIUhgFm9iMewxdNOHJ45A", admin: false&gt; </span><span class="pln">

</span><span class="lit">1.9</span><span class="pun">.</span><span class="lit">3</span><span class="pun">-</span><span class="pln">p392 </span><span class="pun">:</span><span class="lit">002</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> user</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">"larry"</span><span class="pln">
 </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="str">"larry"</span><span class="pln"> 

</span><span class="lit">1.9</span><span class="pun">.</span><span class="lit">3</span><span class="pun">-</span><span class="pln">p392 </span><span class="pun">:</span><span class="lit">003</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> user</span><span class="pun">.</span><span class="pln">save
   </span><span class="pun">(</span><span class="lit">0.2ms</span><span class="pun">)</span><span class="pln">  </span><span class="kwd">begin</span><span class="pln"> transaction
  </span><span class="typ">User</span><span class="pln"> </span><span class="typ">Exists</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0.6ms</span><span class="pun">)</span><span class="pln">  SELECT </span><span class="lit">1</span><span class="pln"> AS one FROM </span><span class="str">"users"</span><span class="pln"> WHERE </span><span class="pun">(</span><span class="pln">LOWER</span><span class="pun">(</span><span class="str">"users"</span><span class="pun">.</span><span class="str">"email"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> LOWER</span><span class="pun">(</span><span class="str">'auriepage@gmail.com'</span><span class="pun">)</span><span class="pln"> AND </span><span class="str">"users"</span><span class="pun">.</span><span class="str">"id"</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="lit">109</span><span class="pun">)</span><span class="pln"> LIMIT </span><span class="lit">1</span><span class="pln">
   </span><span class="pun">(</span><span class="lit">0.1ms</span><span class="pun">)</span><span class="pln">  rollback transaction
 </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"> </span></code></pre>

<p>User model:</p>

<pre class="lang-rb prettyprint prettyprinted"><code><span class="kwd">class</span><span class="pln"> </span><span class="typ">User</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="typ">ActiveRecord</span><span class="pun">::</span><span class="typ">Base</span><span class="pln">

</span><span class="com"># Declaration of public variables   </span><span class="pln">
  attr_accessible </span><span class="pun">:</span><span class="pln">email</span><span class="pun">,</span><span class="pln"> </span><span class="pun">:</span><span class="pln">name</span><span class="pun">,</span><span class="pln"> </span><span class="pun">:</span><span class="pln">password</span><span class="pun">,</span><span class="pln"> </span><span class="pun">:</span><span class="pln">password_confirmation
  has_secure_password
  has_many </span><span class="pun">:</span><span class="pln">microposts</span><span class="pun">,</span><span class="pln"> dependent</span><span class="pun">:</span><span class="pln"> </span><span class="pun">:</span><span class="pln">destroy
  has_many </span><span class="pun">:</span><span class="pln">relationships</span><span class="pun">,</span><span class="pln"> foreign_key</span><span class="pun">:</span><span class="pln"> </span><span class="str">"follower_id"</span><span class="pun">,</span><span class="pln"> dependent</span><span class="pun">:</span><span class="pln"> </span><span class="pun">:</span><span class="pln">destroy
  has_many </span><span class="pun">:</span><span class="pln">followed_users</span><span class="pun">,</span><span class="pln"> through</span><span class="pun">:</span><span class="pln"> </span><span class="pun">:</span><span class="pln">relationships</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">:</span><span class="pln"> </span><span class="pun">:</span><span class="pln">followed
  has_many </span><span class="pun">:</span><span class="pln">reverse_relationships</span><span class="pun">,</span><span class="pln"> foreign_key</span><span class="pun">:</span><span class="pln"> </span><span class="str">"followed_id"</span><span class="pun">,</span><span class="pln"> class_name</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Relationship"</span><span class="pun">,</span><span class="pln"> dependent</span><span class="pun">:</span><span class="pln"> </span><span class="pun">:</span><span class="pln">destroy
  has_many </span><span class="pun">:</span><span class="pln">followers</span><span class="pun">,</span><span class="pln"> through</span><span class="pun">:</span><span class="pln"> </span><span class="pun">:</span><span class="pln">reverse_relationships</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">:</span><span class="pln"> </span><span class="pun">:</span><span class="pln">follower

  before_save </span><span class="pun">{</span><span class="pln">email</span><span class="pun">.</span><span class="pln">downcase</span><span class="pun">!}</span><span class="pln">
  before_save </span><span class="pun">:</span><span class="pln">create_remember_token

  validates </span><span class="pun">:</span><span class="pln">name</span><span class="pun">,</span><span class="pln"> presence</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> length</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">maximum</span><span class="pun">:</span><span class="pln"> </span><span class="lit">50</span><span class="pun">}</span><span class="pln">
  VALID_EMAIL_REGEX </span><span class="pun">=</span><span class="pln"> </span><span class="str">/\A[\w+\-.]+@[a-z\d\-.]+\.[a-z]+\z/</span><span class="pln">i
  validates </span><span class="pun">:</span><span class="pln">email</span><span class="pun">,</span><span class="pln"> presence</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> format</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">with</span><span class="pun">:</span><span class="pln"> VALID_EMAIL_REGEX</span><span class="pun">},</span><span class="pln"> uniqueness</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">case_sensitive</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">}</span><span class="pln">
  validates </span><span class="pun">:</span><span class="pln">password</span><span class="pun">,</span><span class="pln"> presence</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> length</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">minimum</span><span class="pun">:</span><span class="pln"> </span><span class="lit">6</span><span class="pun">}</span><span class="pln">
  validates </span><span class="pun">:</span><span class="pln">password_confirmation</span><span class="pun">,</span><span class="pln"> presence</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
  after_validation </span><span class="pun">{</span><span class="kwd">self</span><span class="pun">.</span><span class="pln">errors</span><span class="pun">.</span><span class="pln">messages</span><span class="pun">.</span><span class="pln">delete</span><span class="pun">(:</span><span class="pln">password_digest</span><span class="pun">)}</span><span class="pln">

 private
    </span><span class="kwd">def</span><span class="pln"> create_remember_token
        </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">remember_token </span><span class="pun">=</span><span class="pln"> </span><span class="typ">SecureRandom</span><span class="pun">.</span><span class="pln">urlsafe_base64
    </span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span></code></pre>
    </div>
    <div class="post-taglist">
        <a href="http://stackoverflow.com/questions/tagged/ruby-on-rails" class="post-tag js-gps-track" title="show questions tagged &#39;ruby-on-rails&#39;" rel="tag">ruby-on-rails</a> <a href="http://stackoverflow.com/questions/tagged/ruby" class="post-tag js-gps-track" title="show questions tagged &#39;ruby&#39;" rel="tag">ruby</a> <a href="http://stackoverflow.com/questions/tagged/railstutorial.org" class="post-tag js-gps-track" title="show questions tagged &#39;railstutorial.org&#39;" rel="tag">railstutorial.org</a> 
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/q/19037733/6797740" title="short permalink to this question" class="short-link" id="link-post-19037733">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/19037733/edit" class="suggest-edit-post" title="revise and improve this post">edit</a></div>        
    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="http://stackoverflow.com/posts/19037733/revisions" title="show all edits to this post">edited <span title="2016-05-04 10:04:49Z" class="relativetime">May 4 at 10:04</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="http://stackoverflow.com/users/4377017/igor-ivancha"><div class="gravatar-wrapper-32"><img src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/photo.jpg" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="http://stackoverflow.com/users/4377017/igor-ivancha">Igor Ivancha</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">2,085</span><span title="4 gold badges"><span class="badge1"></span><span class="badgecount">4</span></span><span title="11 silver badges"><span class="badge2"></span><span class="badgecount">11</span></span><span title="33 bronze badges"><span class="badge3"></span><span class="badgecount">33</span></span>
        </div>
    </div>
</div>    </td>
    <td class="post-signature owner">
        <div class="user-info ">
    <div class="user-action-time">
        asked <span title="2013-09-26 20:08:08Z" class="relativetime">Sep 26 '13 at 20:08</span>
    </div>
    <div class="user-gravatar32">
        <a href="http://stackoverflow.com/users/744586/venomoustoad"><div class="gravatar-wrapper-32"><img src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/3ed23b9d66bfa4c40bdd637c5e2bfdd6" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="http://stackoverflow.com/users/744586/venomoustoad">Venomoustoad</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">285</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="3 silver badges"><span class="badge2"></span><span class="badgecount">3</span></span><span title="17 bronze badges"><span class="badge3"></span><span class="badgecount">17</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</div>
</td>
        </tr>
                
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-19037733" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">



    <tr id="comment-28133236" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received" class="cool">2</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">The <code>.save</code> method in the console doesn't use the controller code, so posting it is irrelevant. Take a look at your model and try to figure out why that strange <code>SELECT 1 AS one FROM...</code> SQL statement is getting issued, and consider posting the code for your model instead of the controller. Also, did you define your own <code>save</code> method in your model by chance, or do you have any custom callbacks on that model? Maybe the answer is in there somewhere.</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/249543/jefflunt" title="24,994 reputation" class="comment-user">jefflunt</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#comment28133236_19037733"><span title="2013-09-26 20:13:45Z" class="relativetime-clean">Sep 26 '13 at 20:13</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-28133265" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">It could be because User has a uniqueness index on email, and there are more than one user with the email <code>auriepage@gmail.com</code>. That would explain the query trying to find a user whose email is that but whose ID is not 109</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/493749/chris-cashwell" title="13,244 reputation" class="comment-user">Chris Cashwell</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#comment28133265_19037733"><span title="2013-09-26 20:14:33Z" class="relativetime-clean">Sep 26 '13 at 20:14</span></a></span>
                    <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-28133299" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">You're having issues with your <code>User</code> class, definitely include your <code>User</code> class source code.</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/78613/nick-veys" title="14,941 reputation" class="comment-user">Nick Veys</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#comment28133299_19037733"><span title="2013-09-26 20:15:29Z" class="relativetime-clean">Sep 26 '13 at 20:15</span></a></span>
                    <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-28133323" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Also possible that a validation is causing this, include the model in the question.</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/2766848/derekyau" title="2,132 reputation" class="comment-user">derekyau</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#comment28133323_19037733"><span title="2013-09-26 20:16:15Z" class="relativetime-clean">Sep 26 '13 at 20:16</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-28140711" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">I have included the user model. I get the following error messages from the validation: 1.9.3-p392 :005 &gt; user.errors.full_messages =&gt; ["Password can't be blank", "Password is too short (minimum is 6 characters)", "Password confirmation can't be blank"] These are the validation errors, however, when i am already signed in as the user, I do not want to have to change the password every time i want to change the name. I want the edit to work independent of the password validation (but should be validated that the current user is the one being edited)</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/744586/venomoustoad" title="285 reputation" class="comment-user owner">Venomoustoad</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#comment28140711_19037733"><span title="2013-09-27 03:28:19Z" class="relativetime-clean">Sep 27 '13 at 3:28</span></a></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-19037733" data-rep="50" data-reg="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid answering questions in comments.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" onclick=""></a>
        </div>         
    </td>
</tr>        </tbody></table>
</div>

			<div id="answers">

				<a name="tab-top"></a>
				<div id="answers-header">
					<div class="subheader answers-subheader">
						<h2>
								7 Answers
                                <span style="display:none;" itemprop="answerCount">7</span>
						</h2>
						<div>
							<div id="tabs">
        <a href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save?answertab=active#tab-top" data-nav-xhref="" title="Answers with the latest activity first" data-value="active" data-shortcut="A">
            active</a>
        <a href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save?answertab=oldest#tab-top" data-nav-xhref="" title="Answers in the order they were provided" data-value="oldest" data-shortcut="O">
            oldest</a>
        <a class="youarehere" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save?answertab=votes#tab-top" data-nav-xhref="" title="Answers with the highest score first" data-value="votes" data-shortcut="V">
            votes</a>
</div>
						</div>
					</div>    
				</div>    




  
<a name="19037889"></a>
<div id="answer-19037889" class="answer accepted-answer" data-answerid="19037889" itemscope="" itemtype="http://schema.org/Answer" itemprop="acceptedAnswer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="19037889">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">64</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>



        <span class="vote-accepted-on load-accepted-answer-date" title="loading when this answer was accepted...">accepted</span>

</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>Your user model probably has validations which are not satisfied. Since you've not posted those I'm unable to really solve your question. To make live easier you can debug why your user isn't willing to save.</p>

<p>Try running</p>

<pre class="lang-rb prettyprint prettyprinted"><code><span class="pln">user</span><span class="pun">.</span><span class="pln">errors</span><span class="pun">.</span><span class="pln">full_messages</span></code></pre>

<p>which should give you a hint what's going wrong.</p>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/19037889/6797740" title="short permalink to this answer" class="short-link" id="link-post-19037889">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/19037889/edit" class="suggest-edit-post" title="revise and improve this post">edit</a></div>                    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2013-09-26 20:17:41Z" class="relativetime">Sep 26 '13 at 20:17</span>
    </div>
    <div class="user-gravatar32">
        <a href="http://stackoverflow.com/users/155303/jewilmeer"><div class="gravatar-wrapper-32"><img src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/a3d82f3e8986b126bae4e4efb62b68ee" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="http://stackoverflow.com/users/155303/jewilmeer">jewilmeer</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">931</span><span title="7 silver badges"><span class="badge2"></span><span class="badgecount">7</span></span><span title="7 bronze badges"><span class="badge3"></span><span class="badgecount">7</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-19037889" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="1" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">



    <tr id="comment-28140656" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">I get the following error messages from the validation:  1.9.3-p392 :005 &gt; user.errors.full_messages  =&gt; ["Password can't be blank", "Password is too short (minimum is 6 characters)", "Password confirmation can't be blank"]  These are the validation errors, however, when i am already signed in as the user, I do not want to have to change the password every time i want to change the name. I want the edit to work independent of the password validation (but should be validated that the current user is the one being edited)</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/744586/venomoustoad" title="285 reputation" class="comment-user owner">Venomoustoad</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#comment28140656_19037889"><span title="2013-09-27 03:23:40Z" class="relativetime-clean">Sep 27 '13 at 3:23</span></a></span>
                    <span class="edited-yes" title="this comment was edited 3 times"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-28191850" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@Venomoustoad Validations can have conditions, for instance: (code) validates :password, presence: true, length: {minimum: 6}, if: :password_changed? (/code) password_changed should be a method in your user model. You can put the conditions on when you want to validate a password here.</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/155303/jewilmeer" title="931 reputation" class="comment-user">jewilmeer</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#comment28191850_19037889"><span title="2013-09-28 22:39:37Z" class="relativetime-clean">Sep 28 '13 at 22:39</span></a></span>
                    <span class="edited-yes" title="this comment was edited 2 times"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-45340359" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Displaying the error in the console helped with my issue; had to set the user.password before it would let me save.</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/2711736/sean-perryman" title="94 reputation" class="comment-user">Sean Perryman</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#comment45340359_19037889"><span title="2015-02-13 23:53:43Z" class="relativetime-clean">Feb 13 '15 at 23:53</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-57568366" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@jewilmeer : Thank you bro , your answer saved my whole day : )</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/4012683/huzefa-biyawarwala" title="484 reputation" class="comment-user">huzefa biyawarwala</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#comment57568366_19037889"><span title="2016-01-21 06:34:57Z" class="relativetime-clean">Jan 21 at 6:34</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-59082963" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">perfect ! thanks ! it's work to me !</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/4032857/felipe-valdivia" title="165 reputation" class="comment-user">Felipe Valdivia</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#comment59082963_19037889"><span title="2016-02-29 15:25:37Z" class="relativetime-clean">Feb 29 at 15:25</span></a></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-19037889" data-rep="50" data-reg="true">

                <a class="js-add-link comments-link  dno" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" onclick="">show <b>1</b> more comment</a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>
<script>
                var ados = ados || {}; ados.run = ados.run || [];
                ados.run.push(function () { ados_add_placement(22,8277,"adzerk1454979303",4).setZone(44); });
            </script>
            <div class="everyonelovesstackoverflow adzerk-vote" id="adzerk1454979303"><a href="http://engine.adzerk.net/r?e=eyJhdiI6NDE0LCJhdCI6NCwiYnQiOjAsImNtIjo0NzE0OTMsImNoIjoxMTc4LCJjayI6e30sImNyIjoxNjI3NzY0LCJkaSI6IjU4MTFhMGMyZmJhNzRiZTFhMTNiODY1ZDRhM2E0MDNhIiwiZG0iOjEsImZjIjoxOTI0NDQzLCJmbCI6MjE0MjMxMiwiaXAiOiIxODUuNTMuMjI3LjcwIiwia3ciOiJydWJ5LW9uLXJhaWxzLHJ1YnkscmFpbHN0dXRvcmlhbC5vcmcseC11c2VyLXJlZ2lzdGVyZWQiLCJudyI6MjIsInBjIjowLCJlYyI6MCwicHIiOjE2MDQsInJ0IjoxLCJyZiI6Imh0dHBzOi8vd3d3Lmdvb2dsZS5jby51ay8iLCJzdCI6ODI3NywidWsiOiJ1ZTEtMDA2NzFjNGE3NDVkNDVhZTk3NjFhNWU5ODUyYzU5MjEiLCJ6biI6NDQsInRzIjoxNDc1NTc5ODcwNjkyLCJiZiI6dHJ1ZSwicG4iOiJhZHplcmsxNDU0OTc5MzAzIiwidXIiOiJodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vam9icz91dG1fc291cmNlPXdlYnNpdGUmdXRtX21lZGl1bT1iYW5uZXImdXRtX2NvbnRlbnQ9bGVhZGVyYm9hcmRfMiZ1dG1fY2FtcGFpZ249aG91c2VfYWRzX2hvdXNlX2Fkc19ST1NfU08ifQ&amp;s=xakG45hVDFaK5fY2s9E5qZDMzoI" rel="nofollow" target="_blank" title=""><img src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/c6eb02709d7d40c48ae0ff1632e88956.png" title="" alt="" border="0" width="728" height="90"></a><div class="adzerk-vote-controls" style="display: none;"><div class="adzerk-vote-option adzerk-vote-up"><div class="adzerk-vote-icon"></div></div><div class="adzerk-vote-option adzerk-vote-down"><div class="adzerk-vote-icon"></div></div></div><div class="adzerk-vote-survey" style="display:none;"><form><span>No problem. We won't show you that ad again. Why didn't you like it?</span><ul><li><label><input type="radio" value="12" name="downvoteReason">Uninteresting</label></li><li><label><input type="radio" value="13" name="downvoteReason">Misleading</label></li><li><label><input type="radio" value="14" name="downvoteReason">Offensive</label></li><li><label><input type="radio" value="15" name="downvoteReason">Repetitive</label></li><li><label><input type="radio" value="16" name="downvoteReason">Other</label></li></ul><a href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" class="adzerk-vote-cancel">Oops! I didn't mean to do this.</a></form></div><img height="0px" width="0px" border="0" style="position:absolute;" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/i(1).gif"></div>
  
<a name="30947748"></a>
<div id="answer-30947748" class="answer" data-answerid="30947748" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="30947748">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">7</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>I know this is an old post, but hopefully this might help someone going through this tutorial in the future.</p>

<p>As the accepted answer expresses, this is due to validations which are not being satisfied. I ran into this issue as well and found that another workaround is to use the <code>update_attribute</code> method on the <code>user</code> object. For example, if you want to update the <code>name</code> field of a <code>user</code> object and have it automatically save to the database, without having to touch the virtual <code>password</code> and <code>password_confirmation</code> fields, use the following:</p>

<pre class="lang-rb prettyprint prettyprinted"><code><span class="pln">user</span><span class="pun">.</span><span class="pln">update_attribute</span><span class="pun">(:</span><span class="pln">name</span><span class="pun">,</span><span class="pln"> </span><span class="str">"larry"</span><span class="pun">)</span></code></pre>

<p>This will update the <code>name</code> field only and save it to the database (no need to call the <code>save</code> method), without having to touch the <code>password</code> and <code>password_confirmation</code> fields.</p>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/30947748/6797740" title="short permalink to this answer" class="short-link" id="link-post-30947748">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/30947748/edit" class="suggest-edit-post" title="revise and improve this post">edit</a></div>                    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2015-06-19 21:47:02Z" class="relativetime">Jun 19 '15 at 21:47</span>
    </div>
    <div class="user-gravatar32">
        <a href="http://stackoverflow.com/users/4704976/richard-gieg"><div class="gravatar-wrapper-32"><img src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/dd6851ae31ef9e250a67a04b5fbc0cf0" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="http://stackoverflow.com/users/4704976/richard-gieg">Richard Gieg</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">79</span><span title="1 silver badge"><span class="badge2"></span><span class="badgecount">1</span></span><span title="3 bronze badges"><span class="badge3"></span><span class="badgecount">3</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-30947748" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">



    <tr id="comment-58307282" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received" class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Even though the model validation fails, <code>user.update_attribute</code> will update the database regardless of the validity as this method skips validation. Also <code>save(validate: false)</code> is used if we want to skip the validation and know what we are doing</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/4427472/sasi-kala" title="69 reputation" class="comment-user">Sasi_Kala</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#comment58307282_30947748"><span title="2016-02-09 17:38:35Z" class="relativetime-clean">Feb 9 at 17:38</span></a></span>
                    <span class="edited-yes" title="this comment was edited 2 times"></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-30947748" data-rep="50" data-reg="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>

  
<a name="19037907"></a>
<div id="answer-19037907" class="answer" data-answerid="19037907" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="19037907">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">4</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>After you try to save or validate an active record model instance you can view more information about what happened with a few useful commands.</p>

<pre class="lang-rb prettyprint prettyprinted"><code><span class="pln">user </span><span class="pun">=</span><span class="pln"> </span><span class="typ">User</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="lit">108</span><span class="pun">)</span><span class="pln">
user</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Larry"</span><span class="pln">
user</span><span class="pun">.</span><span class="pln">valid</span><span class="pun">?</span><span class="pln"> </span><span class="com"># returns false</span><span class="pln">
user</span><span class="pun">.</span><span class="pln">errors</span><span class="pun">.</span><span class="pln">messages </span><span class="com"># returns something like {email: "Cant be blank"}</span></code></pre>

<p>Obviously I made that error up because I don't know what your model file looks like but if it roles back its for one of two reasons usually. The first is your validations failed. If their are no error messages its probably because something in your filter chain returned false. For example</p>

<pre class="lang-rb prettyprint prettyprinted"><code><span class="kwd">class</span><span class="pln"> </span><span class="typ">User</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="typ">ActiveRecord</span><span class="pun">::</span><span class="typ">Base</span><span class="pln">
  before_save </span><span class="pun">:</span><span class="pln">accidentally_return_false

  </span><span class="kwd">def</span><span class="pln"> accidentally_return_false
    </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">some_boolean </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">condition </span><span class="pun">==</span><span class="pln"> value</span><span class="pun">)</span><span class="pln">
  </span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">

user </span><span class="pun">=</span><span class="pln"> </span><span class="typ">User</span><span class="pun">.</span><span class="pln">new</span><span class="pun">(</span><span class="pln"> params </span><span class="pun">)</span><span class="pln">
user</span><span class="pun">.</span><span class="pln">save </span><span class="com"># where condition does not equal value</span><span class="pln">
user</span><span class="pun">.</span><span class="pln">valid</span><span class="pun">?</span><span class="pln"> </span><span class="com"># false because of the before save method</span></code></pre>

<p>Hope that helps</p>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/19037907/6797740" title="short permalink to this answer" class="short-link" id="link-post-19037907">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/19037907/edit" class="suggest-edit-post" title="revise and improve this post">edit</a></div>                    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2013-09-26 20:18:33Z" class="relativetime">Sep 26 '13 at 20:18</span>
    </div>
    <div class="user-gravatar32">
        <a href="http://stackoverflow.com/users/2027395/tyrel-richey"><div class="gravatar-wrapper-32"><img src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/ae05aab1420e2cafcc6387c5555f3bde" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="http://stackoverflow.com/users/2027395/tyrel-richey">Tyrel Richey</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">677</span><span title="5 silver badges"><span class="badge2"></span><span class="badgecount">5</span></span><span title="11 bronze badges"><span class="badge3"></span><span class="badgecount">11</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-19037907" class="comments  dno">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <tr><td></td><td></td></tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-19037907" data-rep="50" data-reg="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>

  
<a name="19041918"></a>
<div id="answer-19041918" class="answer" data-answerid="19041918" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="19041918">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">2</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>When save rollbacks, use save! instead, and error log will be printed.</p>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/19041918/6797740" title="short permalink to this answer" class="short-link" id="link-post-19041918">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/19041918/edit" class="suggest-edit-post" title="revise and improve this post">edit</a></div>                    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2013-09-27 02:48:45Z" class="relativetime">Sep 27 '13 at 2:48</span>
    </div>
    <div class="user-gravatar32">
        <a href="http://stackoverflow.com/users/1865091/max-wong"><div class="gravatar-wrapper-32"><img src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/77845781fe01c51acc319a524a641235" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="http://stackoverflow.com/users/1865091/max-wong">Max Wong</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">221</span><span title="2 silver badges"><span class="badge2"></span><span class="badgecount">2</span></span><span title="9 bronze badges"><span class="badge3"></span><span class="badgecount">9</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-19041918" class="comments  dno">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <tr><td></td><td></td></tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-19041918" data-rep="50" data-reg="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>

  
<a name="23947349"></a>
<div id="answer-23947349" class="answer" data-answerid="23947349" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="23947349">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">2</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>I had this same problem and no errors were being stored. It turned out that my <code>before_save</code> function was returning false which resulted in the save being canceled (I guess? I'm new to rails).</p>

<p>I was trying to set the value of a boolean which could only be set once a file had been uploaded.</p>

<p>Here's what I was doing:</p>

<pre class="lang-rb prettyprint prettyprinted"><code><span class="pln">before_save </span><span class="pun">:</span><span class="pln">set_orientation

</span><span class="kwd">def</span><span class="pln"> set_orientation
  </span><span class="com"># ...do stuff...</span><span class="pln">
  </span><span class="kwd">self</span><span class="pun">[:</span><span class="pln">is_landscape</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> ratio </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">1</span><span class="pln">  </span><span class="com"># stores AND returns the boolean value!!</span><span class="pln">
</span><span class="kwd">end</span></code></pre>

<p>The last line in the function was also an implicit return which I did not mean to do. My solution was to make the return explicitly:</p>

<pre class="lang-rb prettyprint prettyprinted"><code><span class="pln">before_save </span><span class="pun">:</span><span class="pln">set_orientation

</span><span class="kwd">def</span><span class="pln"> set_orientation
  </span><span class="com"># ...do stuff...</span><span class="pln">
  </span><span class="kwd">self</span><span class="pun">[:</span><span class="pln">is_landscape</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> ratio </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">1</span><span class="pln">  </span><span class="com"># store the boolean value</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln">                           </span><span class="com"># now return</span><span class="pln">
</span><span class="kwd">end</span></code></pre>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/23947349/6797740" title="short permalink to this answer" class="short-link" id="link-post-23947349">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/23947349/edit" class="suggest-edit-post" title="revise and improve this post">edit</a></div>                    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2014-05-30 05:00:05Z" class="relativetime">May 30 '14 at 5:00</span>
    </div>
    <div class="user-gravatar32">
        <a href="http://stackoverflow.com/users/940217/kyle-falconer"><div class="gravatar-wrapper-32"><img src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/18c21ae53dfed1c48d36a77394357b4a" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="http://stackoverflow.com/users/940217/kyle-falconer">Kyle Falconer</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">3,316</span><span title="16 silver badges"><span class="badge2"></span><span class="badgecount">16</span></span><span title="41 bronze badges"><span class="badge3"></span><span class="badgecount">41</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-23947349" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">



    <tr id="comment-55376444" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">if you dig that silly thing yourself . then you're a genius buddy :P</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/3728916/imrannaqvi" title="880 reputation" class="comment-user">ImranNaqvi</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#comment55376444_23947349"><span title="2015-11-19 13:43:36Z" class="relativetime-clean">Nov 19 '15 at 13:43</span></a></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-23947349" data-rep="50" data-reg="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>

  
<a name="19037872"></a>
<div id="answer-19037872" class="answer" data-answerid="19037872" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="19037872">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">0</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>Your validations are not passing. You can do:</p>

<pre class="lang-rb prettyprint prettyprinted"><code><span class="pln">user</span><span class="pun">.</span><span class="pln">errors</span><span class="pun">.</span><span class="pln">full_messages</span></code></pre>

<p>in the console after the failed save to see why.</p>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/19037872/6797740" title="short permalink to this answer" class="short-link" id="link-post-19037872">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/19037872/edit" class="suggest-edit-post" title="revise and improve this post">edit</a></div>                    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2013-09-26 20:16:43Z" class="relativetime">Sep 26 '13 at 20:16</span>
    </div>
    <div class="user-gravatar32">
        <a href="http://stackoverflow.com/users/1464605/mechanicalfish"><div class="gravatar-wrapper-32"><img src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/b6e707f79359a2664db045a33e9898d3" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="http://stackoverflow.com/users/1464605/mechanicalfish">mechanicalfish</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">8,424</span><span title="2 gold badges"><span class="badge1"></span><span class="badgecount">2</span></span><span title="26 silver badges"><span class="badge2"></span><span class="badgecount">26</span></span><span title="36 bronze badges"><span class="badge3"></span><span class="badgecount">36</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-19037872" class="comments  dno">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <tr><td></td><td></td></tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-19037872" data-rep="50" data-reg="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>

  
<a name="25671619"></a>
<div id="answer-25671619" class="answer" data-answerid="25671619" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="25671619">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">0</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>I had the same issue of the database rolling back my transactions in the console while I was trying to update the admin property on a user. If you are doing the Hartl rails tutorial, the issue is that if you type in user.errors.messages in the console, it will tell you that the password is too short. That is because in the model there is a password validation before it saves and hashes your password into the password_digest. </p>

<p>The work around to this is in the console perform your normal activity like setting user.admin = true, and then when you are done, enter user.password = "foobar", then enter user.password_confirmation = "foobar", and then when you perform user.save it will commit all your changes. </p>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/25671619/6797740" title="short permalink to this answer" class="short-link" id="link-post-25671619">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/25671619/edit" class="suggest-edit-post" title="revise and improve this post">edit</a></div>                    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2014-09-04 17:29:47Z" class="relativetime">Sep 4 '14 at 17:29</span>
    </div>
    <div class="user-gravatar32">
        <a href="http://stackoverflow.com/users/2908563/michael-klump"><div class="gravatar-wrapper-32"><img src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/e99cdd3cacd4b42e372239908f0949eb" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="http://stackoverflow.com/users/2908563/michael-klump">Michael Klump</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">69</span><span title="7 bronze badges"><span class="badge3"></span><span class="badgecount">7</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-25671619" class="comments  dno">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <tr><td></td><td></td></tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-25671619" data-rep="50" data-reg="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>
									<a name="new-answer"></a>
						<form id="post-form" action="http://stackoverflow.com/questions/19037733/answer/submit" method="post" class="post-form">
						    <input type="hidden" id="post-id" value="19037733">
                            <input type="hidden" id="qualityBanWarningShown" name="qualityBanWarningShown" value="false">
                            <input type="hidden" name="referrer" value="https://www.google.co.uk/">
							<h2 class="space">Your Answer</h2>


            <script>
            StackExchange.ifUsing("editor", function () {
                StackExchange.using("externalEditor", function () {
                    StackExchange.using("snippets", function () {
                        StackExchange.snippets.init();
                    });
                });
            }, "code-snippets");
        </script>
    

<script>
    StackExchange.ready(function() {
        initTagRenderer("".split(" "), "".split(" "));
       
        StackExchange.using("externalEditor", function() {
                // Have to fire editor after snippets, if snippets enabled
                if (StackExchange.settings.snippets.snippetsEnabled) {
                    StackExchange.using("snippets", function() {
                        createEditor();
                    });
                }
                else {
                    createEditor();
                }
            });

            function createEditor() {
                prepareEditor({
                    heartbeatType: 'answer',
                convertImagesToLinks: true,
                reputationToPostImages: 10,
                bindNavPrevention: true,
                postfix: "",
                    onDemand: false,
                    discardSelector: ".discard-answer"
                    ,immediatelyShowMarkdownHelp:true
                    });
                

        }
    });  
</script>


<div id="post-editor" class="post-editor js-post-editor">

    <div style="position: relative;">     
        <div class="wmd-container">
            <div id="wmd-button-bar" class="wmd-button-bar"><ul id="wmd-button-row" class="wmd-button-row"><li class="wmd-button" id="wmd-bold-button" title="Strong &lt;strong&gt; Ctrl+B" style="left: 0px;"><span style="background-position: 0px 0px;"></span></li><li class="wmd-button" id="wmd-italic-button" title="Emphasis &lt;em&gt; Ctrl+I" style="left: 25px;"><span style="background-position: -20px 0px;"></span></li><li class="wmd-spacer wmd-spacer1" id="wmd-spacer1"></li><li class="wmd-button" id="wmd-link-button" title="Hyperlink &lt;a&gt; Ctrl+L" style="left: 75px;"><span style="background-position: -40px 0px;"></span></li><li class="wmd-button" id="wmd-quote-button" title="Blockquote &lt;blockquote&gt; Ctrl+Q" style="left: 100px;"><span style="background-position: -60px 0px;"></span></li><li class="wmd-button" id="wmd-code-button" title="Code Sample &lt;pre&gt;&lt;code&gt; Ctrl+K" style="left: 125px;"><span style="background-position: -80px 0px;"></span></li><li class="wmd-button" id="wmd-image-button" title="Image &lt;img&gt; Ctrl+G" style="left: 150px;"><span style="background-position: -100px 0px;"></span></li><li class="wmd-button wmd-snippet-button" style="left:175px" id="wmd-snippet-button" title="JavaScript/HTML/CSS snippet Ctrl-M"><span style="background-image: url(&quot;/content/Shared/balsamiq/wmd-mockup-button.png&quot;);"></span></li><li class="wmd-spacer wmd-spacer2" id="wmd-spacer2" style="left: 220px;"></li><li class="wmd-button" id="wmd-olist-button" title="Numbered List &lt;ol&gt; Ctrl+O" style="left: 225px;"><span style="background-position: -120px 0px;"></span></li><li class="wmd-button" id="wmd-ulist-button" title="Bulleted List &lt;ul&gt; Ctrl+U" style="left: 250px;"><span style="background-position: -140px 0px;"></span></li><li class="wmd-button" id="wmd-heading-button" title="Heading &lt;h1&gt;/&lt;h2&gt; Ctrl+H" style="left: 275px;"><span style="background-position: -160px 0px;"></span></li><li class="wmd-button" id="wmd-hr-button" title="Horizontal Rule &lt;hr&gt; Ctrl+R" style="left: 300px;"><span style="background-position: -180px 0px;"></span></li><li class="wmd-spacer wmd-spacer3" id="wmd-spacer3" style="left: 346px;"></li><li class="wmd-button" id="wmd-undo-button" title="Undo - Ctrl+Z" style="left: 350px;"><span style="background-position: -200px -20px;"></span></li><li class="wmd-button" id="wmd-redo-button" title="Redo - Ctrl+Shift+Z" style="left: 375px;"><span style="background-position: -220px -20px;"></span></li><li class="wmd-button wmd-help-button active-help" id="wmd-help-button" title="Markdown Editing Help" style="right: 0px;"><span style="background-position: -240px 0px;"></span></li><div id="mdhelp" class="mdhelp" style="right: -13px; width: 660px; top: 41px;">
    <ul id="mdhelp-tabs" class="mdhelp-tabs">
        <li data-tab="mdhelp-links" data-buttons="link">Links</li>
        <li data-tab="mdhelp-images" data-buttons="image">Images</li>
        <li data-tab="mdhelp-styles" data-buttons="bold,italic,heading">Styling/Headers</li>
        <li data-tab="mdhelp-lists" data-buttons="olist,ulist">Lists</li>
        <li data-tab="mdhelp-blockquotes" data-buttons="quote">Blockquotes</li>
        <li data-tab="mdhelp-code" data-buttons="code">Code</li>
        <li data-tab="mdhelp-html"> HTML </li>
        <li style="float:right"><a href="http://stackoverflow.com/editing-help" target="_blank">advanced help »</a></li>
    </ul>
    
    <div class="mdhelp-tab" id="mdhelp-links">
            <p>
                In most cases, a plain URL will be recognized as such and automatically linked:
            </p>
            <pre>Visit http://area51.stackexchange.com/ regularly!
Use angle brackets to force linking: Have you seen &lt;http://superuser.com&gt;?
</pre>
            <p>
                To create fancier links, use Markdown:
            </p>
                <pre>Here's [a link](http://www.example.com/)! And a reference-style link to [a panda][1].
References don't have to be [numbers][question].

 [1]: http://notfound.stackexchange.com/
 [question]: http://english.stackexchange.com/questions/11481
</pre>
                <p>You can add tooltips to links:</p>
<pre>Click [here](http://diy.stackexchange.com<span class="spaces">&nbsp;</span>"this text appears when you mouse over")!
This works with [reference links][blog] as well.

 [blog]: http://blog.stackoverflow.com/<span class="spaces">&nbsp;</span>"click here for updates"
</pre>
    </div>

    <div class="mdhelp-tab" id="mdhelp-images">
        <p>Images are exactly like links, but they have an exclamation point in front of them:</p>
        <pre>![a busy cat](http://sstatic.net/Sites/stackoverflow/img/error-lolcat-problemz.jpg)
![two muppets][1]

 [1]: http://i.imgur.com/I5DFV.jpg "tooltip"
</pre>
        <p>
            The word in square brackets is the alt text, which gets displayed if the browser
 can't show the image. Be sure to include meaningful alt text for screen-reading
 software.
        </p>
   
    </div>
    <div class="mdhelp-tab" id="mdhelp-styles">
        <div class="col1">
            <p>Be sure to use text styling sparingly; only where it helps readability.</p>
                <pre>*This is italicized*, and so
is _this_.

**This is bold**, just like __this__.

You can ***combine*** them
if you ___really have to___.
</pre>
        
        </div>
        <div class="col2">
            <p>
                To break your text into sections, you can use headers:
            </p>
                <pre>A Large Header
==============

Smaller Subheader
-----------------
</pre>
            <p>
                Use hash marks if you need several levels of headers:</p>
    <pre># Header 1 #
## Header 2 ##
### Header 3 ###
</pre>

            
        </div>

    </div>
    <div class="mdhelp-tab" id="mdhelp-lists">
        <p>Both bulleted and numbered lists are possible:</p>
        <div class="col1">
<pre>-<span class="spaces">&nbsp;</span>Use a minus sign for a bullet
+<span class="spaces">&nbsp;</span>Or plus sign
*<span class="spaces">&nbsp;</span>Or an asterisk

1.<span class="spaces">&nbsp;</span>Numbered lists are easy
2.<span class="spaces">&nbsp;</span>Markdown keeps track of
 the numbers for you
7.<span class="spaces">&nbsp;</span>So this will be item 3.
</pre>
        </div>
        <div class="col2">
<pre>1.<span class="spaces">&nbsp;</span>Lists in a list item:
<span class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</span>-<span class="spaces">&nbsp;</span>Indented four spaces.
<span class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<span class="spaces">&nbsp;</span>indented eight spaces.
<span class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</span>-<span class="spaces">&nbsp;</span>Four spaces again.
2.<span class="spaces">&nbsp;&nbsp;</span>You can have multiple
<span class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</span>paragraphs in a list items.
<span class="spaces">&nbsp;</span>
<span class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</span>Just be sure to indent.
</pre>        
        </div>
    </div>

    <div class="mdhelp-tab" id="mdhelp-blockquotes">
        <div class="col1">
            <pre>&gt; Create a blockquote by
&gt; prepending “&gt;” to each line.
&gt;
&gt; Other formatting also works here, e.g.
&gt;
&gt; 1. Lists or
&gt; 2. Headings:
&gt;
&gt; ## Quoted Heading ##
</pre>
        </div>
        <div class="col2">
                <p>
                    You can even put blockquotes in blockquotes:
                </p>
                <pre>&gt; A standard blockquote is indented
&gt; &gt; A nested blockquote is indented more
&gt; &gt; &gt; &gt; You can nest to any depth.
</pre>
        </div>
    </div>

    <div class="mdhelp-tab" id="mdhelp-code">
        <p>
            To create code blocks or other preformatted text, indent by four spaces:
        </p>
        <pre><span class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</span>This will be displayed in a monospaced font. The first four spaces
<span class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</span>will be stripped off, but all other whitespace will be preserved.
<span class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</span>Markdown and HTML are turned off in code blocks:
<span class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</span>&lt;i&gt;This is not italic&lt;/i&gt;, and [this is not a link](http://example.com)
</pre>
        <p>
            To create not a block, but an inline code span, use backticks:
        </p>
        <pre>The `$` character is just a shortcut for `window.jQuery`.
</pre>
        <p>
            If you want to have a preformatted block within a list, indent by eight spaces:
        </p>
        <pre>1. This is normal text.
2. So is this, but now follows a code block:
<span class="spaces">&nbsp;</span>
<span class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Skip a line and indent eight spaces.
<span class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>That's four spaces for the list
<span class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>and four to trigger the code block.
</pre>
    </div>

    <div class="mdhelp-tab" id="mdhelp-html">
        <p>
            If you need to do something that Markdown can't handle, use HTML. Note that <a href="http://meta.stackexchange.com/questions/1777/what-html-tags-are-allowed" target="_blank">we only support a very strict subset of HTML!</a>
        </p>
        <pre>Strikethrough humor is &lt;strike&gt;funny&lt;/strike&gt;.
</pre>
        <p>
            Markdown is smart enough not to mangle your span-level HTML:
        </p>
        <pre>&lt;b&gt;Markdown works *fine* in here.&lt;/b&gt;
</pre>
        <p>
            Block-level HTML elements have a few restrictions:
        </p>
        <ol>
            <li>They must be separated from surrounding text by blank lines.</li>
            <li>The begin and end tags of the outermost block element must not be indented.</li>
            <li>Markdown can't be used within HTML blocks.</li>
        </ol>
        <br>
        <pre>&lt;pre&gt;
 You can &lt;em&gt;not&lt;/em&gt; use Markdown in here.
&lt;/pre&gt;
</pre>
    </div>

    <div class="cbt"></div>
</div></ul></div>
            <div style="clear: both; height: 28px;"></div><textarea id="wmd-input" class="wmd-input processed" name="post-text" cols="92" rows="15" tabindex="101" data-min-length=""></textarea>
        <div class="grippie" style="margin-right: 0px;"></div></div>
    </div>

    <div class="fl" style="margin-top: 8px; height:24px;">&nbsp;</div>
    <div id="draft-saved" class="draft-saved community-option fl" style="margin-top: 8px; height:24px; display:none;">draft saved</div>

    <div id="draft-discarded" class="draft-discarded community-option fl" style="margin-top: 8px; height:24px; display:none;">draft discarded</div>



    <div id="wmd-preview" class="wmd-preview"></div>
    <div></div>
    <div class="edit-block">
        <input id="fkey" name="fkey" type="hidden" value="f9789ed4250766d7397fb73311c720f1">
        <input id="author" name="author" type="text">
    </div>



</div>
							<div style="position: relative;">
								
								
							</div>
           
															<div class="form-submit cbt">
									<input id="submit-button" type="submit" value="Post Your Answer" tabindex="110">
									<a href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" class="btn-clear discard-answer dno">discard</a>
								</div>
						</form>



						<h2 class="bottom-notice" data-loc="1">
Not the answer you're looking for?							Browse other questions tagged <a href="http://stackoverflow.com/questions/tagged/ruby-on-rails" class="post-tag" title="show questions tagged &#39;ruby-on-rails&#39;" rel="tag">ruby-on-rails</a> <a href="http://stackoverflow.com/questions/tagged/ruby" class="post-tag" title="show questions tagged &#39;ruby&#39;" rel="tag">ruby</a> <a href="http://stackoverflow.com/questions/tagged/railstutorial.org" class="post-tag" title="show questions tagged &#39;railstutorial.org&#39;" rel="tag">railstutorial.org</a>  or <a href="http://stackoverflow.com/questions/ask">ask your own question</a>.						</h2>
			</div>
		</div>
				<div id="sidebar" class="show-votes">



<script>
    window.showNewUser = false;

</script>

<div class="module newuser newuser-greeting" id="newuser-box" style="display:none;">
    <h4>Hello World!</h4>
    <div>
        <p>This is a collaboratively edited question and answer site for <b>professional and enthusiast programmers</b>. It's 100% free.</p><p>Got a question about the site itself? <a href="http://meta.stackoverflow.com/">meta</a> is the place to talk about things like what questions are appropriate, what tags we should use, etc.</p>
        <p class="ar">
                <a href="http://stackoverflow.com/tour?mnu=1">about »</a>&nbsp;&nbsp;&nbsp;
            <a href="http://stackoverflow.com/help?mnu=1">help »</a>
                &nbsp; <a href="http://meta.stackoverflow.com/">meta »</a>
        </p>
    </div>
</div>
    <script>
    if (showNewUser) {
        document.getElementById('newuser-box').style.display = '';
    }
    </script>						    <div class="module question-stats">
			        <table id="qinfo">
			            <tbody><tr>
			                <td>
			                    <p class="label-key">asked</p>
			                </td>
			                <td style="padding-left: 10px">
			                    <p class="label-key" title="2013-09-26 20:08:08Z"><b>3 years ago</b></p>
			                </td>
			            </tr>
			            <tr>
			                <td>
			                    <p class="label-key">viewed</p>
			                </td>

			                <td style="padding-left: 10px">
			                    <p class="label-key">
			                        <b>18322 times</b>
			                    </p>
			                </td>
			            </tr>
			                <tr>
			                    <td>
			                        <p class="label-key">active</p>
			                    </td>
			                    <td style="padding-left: 10px">
			                        <p class="label-key"><b><a href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save?lastactivity" class="lastactivity-link" title="2016-05-04 10:04:49Z">5 months ago</a></b></p>
			                    </td>
			                </tr>
			        </tbody></table>
			    </div>
			<div class="module community-bulletin" data-tracker="cb=1">
    <div class="related">
                <div class="bulletin-title">
                    Blog
                </div>
                <hr>
    <div class="spacer">
        <div class="bulletin-item-type">
                <a href="http://blog.stackoverflow.com/2016/10/podcast-89-the-decline-of-stack-overflow-has-been-greatly-exaggerated/?cb=1" class="question-hyperlink">
<div class="favicon favicon-stackexchangemeta" title="Meta Stack Exchange"></div>                </a>
            </div>
                <div class="bulletin-item-content">
                    <a href="http://blog.stackoverflow.com/2016/10/podcast-89-the-decline-of-stack-overflow-has-been-greatly-exaggerated/?cb=1" title="Stack Overflow Podcast #89 - The Decline of Stack Overflow Has Been Greatly Exaggerated" class="question-hyperlink">Stack Overflow Podcast #89 - The Decline of Stack Overflow Has Been Greatly…</a>
                </div>
                <br class="cbt">
            </div>
                <div class="bulletin-title">
                    Featured on Meta
                </div>
                <hr>
    <div class="spacer">
        <div class="bulletin-item-type">
                <a href="http://meta.stackoverflow.com/questions/335529/documentation-update-september-29th?cb=1" class="question-hyperlink">
<div class="favicon favicon-stackoverflowmeta" title="Meta Stack Overflow"></div>                </a>
            </div>
                <div class="bulletin-item-content">
                    <a href="http://meta.stackoverflow.com/questions/335529/documentation-update-september-29th?cb=1" class="question-hyperlink">Documentation Update, September 29th</a>
                </div>
                <br class="cbt">
            </div>
                <div class="bulletin-title">
                    Hot Meta Posts
                </div>
                <hr>
    <div class="spacer">
        <div class="bulletin-item-type">
                <span title="Vote score (upvotes - downvotes)">30</span>
            </div>
                <div class="bulletin-item-content">
                    <a href="http://meta.stackoverflow.com/questions/335637/add-a-save-button-for-the-beta-programs?cb=1" class="question-hyperlink">Add a save button for the beta programs</a>
                </div>
                <br class="cbt">
            </div>
    <div class="spacer">
        <div class="bulletin-item-type">
                <span title="Vote score (upvotes - downvotes)">37</span>
            </div>
                <div class="bulletin-item-content">
                    <a href="http://meta.stackoverflow.com/questions/335658/if-my-questions-accepted-answer-is-no-longer-the-best-should-i-change-the-acce?cb=1" title="If my question&#39;s accepted answer is no longer the best, should I change the accepted answer?" class="question-hyperlink">If my question's accepted answer is no longer the best, should I change the…</a>
                </div>
                <br class="cbt">
            </div>
    </div>
</div>			
			<script>
                var ados = ados || {}; ados.run = ados.run || [];
                ados.run.push(function () { ados_add_placement(22,8277,"adzerk1409338107",[5,17,2221]).setZone(45); });
            </script>
            <div class="everyonelovesstackoverflow adzerk-vote" id="adzerk1409338107"><div id="careersadsdoublehigh" style="display:none;"></div><div class="adzerk-vote-controls" style="display:none;"><div class="adzerk-vote-option adzerk-vote-up"><div class="adzerk-vote-icon"></div></div><div class="adzerk-vote-option adzerk-vote-down"><div class="adzerk-vote-icon"></div></div></div><div class="adzerk-vote-survey" style="display:none;"><form><span>No problem. We won't show you that ad again. Why didn't you like it?</span><ul><li><label><input type="radio" value="12" name="downvoteReason">Uninteresting</label></li><li><label><input type="radio" value="13" name="downvoteReason">Misleading</label></li><li><label><input type="radio" value="14" name="downvoteReason">Offensive</label></li><li><label><input type="radio" value="15" name="downvoteReason">Repetitive</label></li><li><label><input type="radio" value="16" name="downvoteReason">Other</label></li></ul><a href="http://stackoverflow.com/questions/19037733/why-does-my-rails-rollback-when-i-try-to-user-save#" class="adzerk-vote-cancel">Oops! I didn't mean to do this.</a></form></div><img height="0px" width="0px" border="0" style="position:absolute;" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/i(2).gif"></div>
            <div id="hireme" class=" orange nearyou tagged clc-jobs-multi"><a href="http://stackoverflow.com/jobs/location/London%2C%20United%20Kingdom" target="_blank" data-loc="London%2C%20United%20Kingdom" data-at="0" data-tz="1" data-ti="1" class="top "><span>Jobs near you</span></a><div class="middle"><ul class="jobs"><li class="clc-dismissable"><div class="job-wrap"><a class="job" data-at="0" data-tz="3" data-ti="225058" href="http://stackoverflow.com/jobs/125058/senior-web-developer-the-labour-party" target="_blank" title="Senior Web Developer at The Labour Party. Click to learn more."><div class="title">Senior Web Developer</div><div><span class="company">The Labour Party</span><span class="location">London, UK</span></div><span class="post-tag highlight">node.js</span><span class="post-tag">html5</span></a></div><a class="clc-dismiss clc-non-ad" data-clc-url="//clc.stackoverflow.com/dismiss-job" data-clcparam-cid="225058" data-clcparam-ac="9139245" data-clc-tooltip="dismiss this job"><span class="clc-tooltip above-left">dismiss this job</span></a></li><li class="clc-dismissable"><div class="job-wrap"><a class="job" data-at="0" data-tz="3" data-ti="190368" href="http://stackoverflow.com/jobs/104439/senior-javascript-nodejs-developer-zoopla-property-group" target="_blank" title="Senior JavaScript/Node.JS Developer at Zoopla Property Group. Click to learn more."><div class="title">Senior JavaScript/Node.JS Developer</div><div><span class="company">Zoopla Property Group</span><span class="location">London, UK</span></div><span class="post-tag">javascript</span><span class="post-tag highlight">node.js</span></a></div><a class="clc-dismiss clc-non-ad" data-clc-url="//clc.stackoverflow.com/dismiss-job" data-clcparam-cid="190368" data-clcparam-ac="9139245" data-clc-tooltip="dismiss this job"><span class="clc-tooltip above-left">dismiss this job</span></a></li><li class="clc-dismissable"><div class="job-wrap"><a class="job" data-at="0" data-tz="3" data-ti="219092" href="http://stackoverflow.com/jobs/119092/full-stack-software-engineer-design-deploy-yieldify" target="_blank" title="Full Stack Software Engineer | Design &amp; Deploy Systems Processing &gt;200qps at Yieldify. Click to learn more."><div class="title">Full Stack Software Engineer | Design &amp; Deploy Systems Processing &gt;200qps</div><div><span class="company">Yieldify</span><span class="location">London, UK</span></div><span class="post-tag">javascript</span><span class="post-tag highlight">node.js</span></a></div><a class="clc-dismiss clc-non-ad" data-clc-url="//clc.stackoverflow.com/dismiss-job" data-clcparam-cid="219092" data-clcparam-ac="9139245" data-clc-tooltip="dismiss this job"><span class="clc-tooltip above-left">dismiss this job</span></a></li><li class="clc-dismissable"><div class="job-wrap"><a class="job" data-at="0" data-tz="3" data-ti="223658" href="http://stackoverflow.com/jobs/123658/senior-net-developer-totaljobs-group-part-of-the" target="_blank" title="Senior .NET Developer at Totaljobs Group, part of the StepStone Group. Click to learn more."><div class="title">Senior .NET Developer</div><div><span class="company">Totaljobs Group, part of the StepStone Group</span><span class="location">London, UK</span></div><span class="post-tag">javascript</span><span class="post-tag">html</span></a></div><a class="clc-dismiss clc-non-ad" data-clc-url="//clc.stackoverflow.com/dismiss-job" data-clcparam-cid="223658" data-clcparam-ac="9139245" data-clc-tooltip="dismiss this job"><span class="clc-tooltip above-left">dismiss this job</span></a></li></ul><div style="clear:both"></div></div><div class="bottom"><a class="city" href="http://stackoverflow.com/jobs/location/London%2C%20United%20Kingdom" target="_blank" data-at="0" data-tz="2" data-ti="0" data-loc="London%2C%20United%20Kingdom">More jobs near London…</a></div><img class="impression" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/soi.gif" style="display:none;"></div>
        <script>
;(function(n){var u=Object.assign||function(n){for(var i,r,u,f,e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(i=0,r=e;i<r.length;i++){u=r[i];for(f in u)n[f]=u[f]}return n},r,t,f,i;try{if(typeof[].indexOf!="function")return;if(r=["stackoverflow.com","serverfault.com","careers.stackoverflow.com","blog.codinghorror.com","joelonsoftware.com","www.joelonsoftware.com"],r[0]!=="*"&&r.indexOf(location.hostname)===-1)return;t=window;f=t.clc_opts?u({},window.clc_opts):{};t.clc_opts=u(n,f);void 0;t.clc_opts.autoload&&(t.clc_init=t.clc_init||[],t.clc_init.push(function(){return t.clc.load()}));i=document.createElement("script");i.async=!0;void 0;i.src=t.clc_opts.lib;document.body.appendChild(i)}catch(e){void 0}}).call(null, {"azw":true,"kt":2000,"tto":true,"autoload":true,"d":{"sb":["hireme","clc-sb"],"tlb":["careers1","clc-tlb"],"mlb":["careers3","clc-mlb"]},"allowed":["stackoverflow.com","serverfault.com","careers.stackoverflow.com","blog.codinghorror.com","joelonsoftware.com","www.joelonsoftware.com"],"h":"clc.stackoverflow.com","u":"//clc.stackoverflow.com/p.js","lib":"//cdn.sstatic.net/clc/clc.min.js?v=6f49b407ccbc"});        </script>
			

            <div class="module sidebar-linked">
	<h4 id="h-linked">Linked</h4>
	<div class="linked" data-tracker="lq=1">

<div class="spacer">
	<a href="http://stackoverflow.com/q/26243759?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">0</div>
	</a>
	<a href="http://stackoverflow.com/questions/26243759/argumenterror-in-userscontrollercreate-wrong-number-of-arguments-2-for-0?noredirect=1&amp;lq=1" class="question-hyperlink">ArgumentError in UsersController#create; Wrong number of arguments (2 for 0)</a>
</div>
<div class="spacer">
	<a href="http://stackoverflow.com/q/27674845?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">0</div>
	</a>
	<a href="http://stackoverflow.com/questions/27674845/rails-console-rollback-on-save?noredirect=1&amp;lq=1" class="question-hyperlink">rails console rollback on save</a>
</div>
<div class="spacer">
	<a href="http://stackoverflow.com/q/30722096?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">0</div>
	</a>
	<a href="http://stackoverflow.com/questions/30722096/cant-update-user-in-ruby-on-rails?noredirect=1&amp;lq=1" class="question-hyperlink">Can't update user in Ruby on Rails</a>
</div>			</div>
</div>

				<div class="module sidebar-related">
					<h4 id="h-related">Related</h4>
                    <div class="related js-gps-related-questions" data-tracker="rq=1">
                        <div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/13944163?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">4</div></a><a href="http://stackoverflow.com/questions/13944163/why-is-the-assignment-method-needed-when-you-could-just-use-from-hartls-tu?rq=1" class="question-hyperlink">Why is the assignment method needed when you could just use “=” (from Hartl's Tutorial)?</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/18554252?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">2</div></a><a href="http://stackoverflow.com/questions/18554252/why-does-the-home-page-break-with-failed-micropost-submission-michael-hartl-ra?rq=1" class="question-hyperlink">Why does the Home Page break with failed micropost submission - Michael Hartl Rails tutorial</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/19753861?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">0</div></a><a href="http://stackoverflow.com/questions/19753861/what-is-this-error-when-installing-a-bundle-in-ruby-rails-aptana?rq=1" class="question-hyperlink">What is this error when installing a bundle in Ruby/Rails/Aptana?</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/25589736?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">0</div></a><a href="http://stackoverflow.com/questions/25589736/i-cant-use-user-save-command-rails-tutorial?rq=1" class="question-hyperlink">I can't use user.save command. rails tutorial</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/27495813?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">-1</div></a><a href="http://stackoverflow.com/questions/27495813/why-does-my-log-in-persist-after-a-database-reset-and-seed?rq=1" class="question-hyperlink">Why does my log in persist after a database reset and seed?</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/33002391?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">0</div></a><a href="http://stackoverflow.com/questions/33002391/why-cant-i-render-a-partial-in-exercise-1-of-chapter-11-of-michael-hartls-rail?rq=1" class="question-hyperlink">Why can't I render a partial in Exercise 1 of Chapter 11 of Michael Hartl's Rail Tutorial Book?</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/34948994?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">2</div></a><a href="http://stackoverflow.com/questions/34948994/rails-tutorial-m-hartl-3rd-edition-chapter-8-why-does-the-app-fail-to-forget?rq=1" class="question-hyperlink">Rails Tutorial (M.Hartl) 3rd Edition, Chapter 8, Why does the app fail to forget login status?</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/36147861?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">0</div></a><a href="http://stackoverflow.com/questions/36147861/why-the-password-key-has-a-value-of-foo-from-michael-hartls-ruby-on-rails-boo?rq=1" class="question-hyperlink">Why the password key has a value of “foo” from Michael Hartl's Ruby on Rails book Chapter 7?</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/36253685?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">0</div></a><a href="http://stackoverflow.com/questions/36253685/michael-hartls-ruby-on-rails-tutorial-ch-8-3-not-sure-why-this-test-is-failin?rq=1" class="question-hyperlink">Michael Hartl's Ruby on Rails Tutorial ch 8.3 | Not sure why this test is failing</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/37669308?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">0</div></a><a href="http://stackoverflow.com/questions/37669308/why-is-if-user-save-used-in-this-way?rq=1" class="question-hyperlink">why is “if @user.save” used in this way?</a></div>
                    </div>
				</div>
            
<div id="hot-network-questions" class="module">
    <h4>
        <a href="http://stackexchange.com/questions?tab=hot" class="js-gps-track" data-gps-track="posts_hot_network.click({ item_type:1, location:11 })">
            Hot Network Questions
        </a>
    </h4>
    <ul>
            <li>
                <div class="favicon favicon-tex" title="TeX - LaTeX Stack Exchange"></div><a href="http://tex.stackexchange.com/questions/332508/can-latex-change-the-behavior-of-core-tex-commands" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:85 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Can LaTeX change the behavior of core TeX commands?
                </a>

            </li>
            <li>
                <div class="favicon favicon-worldbuilding" title="Worldbuilding Stack Exchange"></div><a href="http://worldbuilding.stackexchange.com/questions/57477/zero-emission-warfare" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:579 }); posts_hot_network.click({ item_type:2, location:11 })">
                    zero emission warfare
                </a>

            </li>
            <li>
                <div class="favicon favicon-stackoverflow" title="Stack Overflow"></div><a href="http://stackoverflow.com/questions/39849482/static-generic-methods" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:1 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Static generic methods
                </a>

            </li>
            <li>
                <div class="favicon favicon-stackoverflow" title="Stack Overflow"></div><a href="http://stackoverflow.com/questions/39843488/how-to-make-an-integer-larger-than-any-other-integer" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:1 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How to make an integer larger than any other integer?
                </a>

            </li>
            <li>
                <div class="favicon favicon-academia" title="Academia Stack Exchange"></div><a href="http://academia.stackexchange.com/questions/77439/religious-supervisor-wants-to-thank-god-in-the-acknowledgements" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:415 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Religious supervisor wants to thank god in the acknowledgements
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-travel" title="Travel Stack Exchange"></div><a href="http://travel.stackexchange.com/questions/80109/leaving-my-passport-at-the-embassy-to-receive-a-visa-but-it-is-my-only-identific" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:273 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Leaving my passport at the embassy to receive a visa but it is my only identification document
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-stackoverflow" title="Stack Overflow"></div><a href="http://stackoverflow.com/questions/39847781/which-are-the-plumbing-and-porcelain-commands" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:1 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Which are the plumbing and porcelain commands?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-math" title="Mathematics Stack Exchange"></div><a href="http://math.stackexchange.com/questions/1953218/is-the-emtpy-set-is-a-subset-of-any-set-a-convention" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:69 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Is "The emtpy set is a subset of any set" a convention?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-academia" title="Academia Stack Exchange"></div><a href="http://academia.stackexchange.com/questions/77540/how-to-deal-with-a-very-weak-student" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:415 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How to deal with a very weak student?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-aviation" title="Aviation Stack Exchange"></div><a href="http://aviation.stackexchange.com/questions/32026/why-do-aircraft-namely-military-need-use-formation-lights" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:528 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why do aircraft (namely military) need/use formation lights?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-space" title="Space Exploration Stack Exchange"></div><a href="http://space.stackexchange.com/questions/18457/platinum-colloid-in-liquid-hydrogen-fuel-to-increase-fuel-efficiency" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:508 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Platinum Colloid in Liquid Hydrogen fuel to increase fuel efficiency
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-diy" title="Home Improvement Stack Exchange"></div><a href="http://diy.stackexchange.com/questions/100279/how-can-i-pull-a-wire-through-a-pipe-that-has-too-many-turns-for-fish-tape" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:73 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How can I pull a wire through a pipe that has too many turns for fish tape?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-english" title="English Language &amp; Usage Stack Exchange"></div><a href="http://english.stackexchange.com/questions/351702/does-the-word-integral-relate-in-some-way-to-the-mathematical-term" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:97 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Does the word 'Integral' relate in some way to the mathematical term?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-mechanics" title="Motor Vehicle Maintenance &amp; Repair Stack Exchange"></div><a href="http://mechanics.stackexchange.com/questions/37015/reusing-self-locking-nuts" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:224 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Reusing self locking nuts
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-electronics" title="Electrical Engineering Stack Exchange"></div><a href="http://electronics.stackexchange.com/questions/261290/how-to-stop-plastic-granules-sticking-to-the-iron-wall-of-their-silo" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:135 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How to stop plastic granules sticking to the iron wall of their silo?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-tex" title="TeX - LaTeX Stack Exchange"></div><a href="http://tex.stackexchange.com/questions/332515/custom-background-to-colorbar" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:85 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Custom background to colorbar
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-physics" title="Physics Stack Exchange"></div><a href="http://physics.stackexchange.com/questions/283980/maxwells-demon-why-does-the-entropy-of-the-overall-system-decrease" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:151 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Maxwell's Demon: Why does the entropy of the overall system decrease?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-unix" title="Unix &amp; Linux Stack Exchange"></div><a href="http://unix.stackexchange.com/questions/313940/can-i-prevent-a-folder-of-a-certain-name-being-created" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:106 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Can I prevent a folder of a certain name being created?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-unix" title="Unix &amp; Linux Stack Exchange"></div><a href="http://unix.stackexchange.com/questions/314059/text-editor-for-printing-c-code" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:106 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Text editor for printing C++ code
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-salesforce" title="Salesforce Stack Exchange"></div><a href="http://salesforce.stackexchange.com/questions/142993/use-priorvalue-function" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:459 }); posts_hot_network.click({ item_type:2, location:11 })">
                    use priorvalue function
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-codegolf" title="Programming Puzzles &amp; Code Golf Stack Exchange"></div><a href="http://codegolf.stackexchange.com/questions/95246/how-many-times-will-a-bell-tower-ring" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:200 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How many times will a bell tower ring?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-ux" title="User Experience Stack Exchange"></div><a href="http://ux.stackexchange.com/questions/99976/ios-multiple-selection" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:102 }); posts_hot_network.click({ item_type:2, location:11 })">
                    iOS - multiple selection
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-stats" title="Cross Validated"></div><a href="http://stats.stackexchange.com/questions/238229/what-are-the-advantages-of-an-exponential-random-generator-using-the-method-of-a" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:65 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What are the advantages of an exponential random generator using the method of Ahrens and Dieter (1972) rather than by inverse transform?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-esperanto" title="Esperanto Language Stack Exchange"></div><a href="http://esperanto.stackexchange.com/questions/1208/what-is-ok-in-esperanto" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:662 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What is "OK" in Esperanto?
                </a>

            </li>
    </ul>

        
</div>
		</div>
	
<div id="feed-link">
    <div id="feed-link-text">
        <a href="http://stackoverflow.com/feeds/question/19037733" title="feed of this question and its answers">
            <span class="feed-icon"></span>question feed
        </a>
    </div>
</div>	<script>
StackExchange.ready(function(){$.get('/posts/19037733/ivc/7378');});
</script>
<noscript>
    &lt;div&gt;&lt;img src="/posts/19037733/ivc/7378" class="dno" alt="" width="0" height="0"&gt;&lt;/div&gt;
</noscript><div style="display:none" id="prettify-lang">lang-rb</div></div>

    <script>
        $('#wmd-input').one("keypress", function() {
            $.ajax({
                url: '/accounts/email-settings-form',
                cache: false,
                success: function(data) {
                    $('#submit-button').parent().prepend(data);
                }
            });
        });

    </script>

        </div>
    </div><script async="" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/clc.min.js"></script>
    <div id="footer" class="categories">
        <div class="footerwrap">            
            <div id="footer-menu">
                <div class="top-footer-links">
                    <a href="http://stackoverflow.com/company/about">about us</a>
                        <a href="http://stackoverflow.com/tour">tour</a>
                    <a href="http://stackoverflow.com/help">help</a>
                    <a href="http://blog.stackoverflow.com/?blb=1">blog</a>
                        <a href="http://chat.stackoverflow.com/">chat</a>
                    <a href="http://data.stackexchange.com/">data</a>
                    <a href="http://stackexchange.com/legal">legal</a>
                    <a href="http://stackexchange.com/legal/privacy-policy">privacy policy</a>
                    <a href="http://stackoverflow.com/company/work-here">work here</a>
                    <a href="http://stackexchange.com/mediakit">advertising info</a>

                    <a onclick="StackExchange.switchMobile(&quot;on&quot;)">mobile</a>
                    <b><a href="http://stackoverflow.com/contact">contact us</a></b>
                        <b><a href="http://meta.stackoverflow.com/">feedback</a></b>
                    
                </div>
                <div id="footer-sites">
                    <table>
    <tbody><tr>
            <th colspan="4">
                Technology
            </th>
            <th colspan="2">
                Life / Arts
            </th>
            <th colspan="2">
                Culture / Recreation
            </th>
            <th colspan="2">
                Science
            </th>
            <th>
                Other
            </th>
    </tr>
    <tr>
            <td>
                <ol>
                        <li><a href="http://stackoverflow.com/" title="professional and enthusiast programmers">Stack Overflow</a></li>
                        <li><a href="http://serverfault.com/" title="system and network administrators">Server Fault</a></li>
                        <li><a href="http://superuser.com/" title="computer enthusiasts and power users">Super User</a></li>
                        <li><a href="http://webapps.stackexchange.com/" title="power users of web applications">Web Applications</a></li>
                        <li><a href="http://askubuntu.com/" title="Ubuntu users and developers">Ask Ubuntu</a></li>
                        <li><a href="http://webmasters.stackexchange.com/" title="pro webmasters">Webmasters</a></li>
                        <li><a href="http://gamedev.stackexchange.com/" title="professional and independent game developers">Game Development</a></li>
                        <li><a href="http://tex.stackexchange.com/" title="users of TeX, LaTeX, ConTeXt, and related typesetting systems">TeX - LaTeX</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://programmers.stackexchange.com/" title="professional programmers interested in conceptual questions about software development">Programmers</a></li>
                        <li><a href="http://unix.stackexchange.com/" title="users of Linux, FreeBSD and other Un*x-like operating systems">Unix &amp; Linux</a></li>
                        <li><a href="http://apple.stackexchange.com/" title="power users of Apple hardware and software">Ask Different (Apple)</a></li>
                        <li><a href="http://wordpress.stackexchange.com/" title="WordPress developers and administrators">WordPress Development</a></li>
                        <li><a href="http://gis.stackexchange.com/" title="cartographers, geographers and GIS professionals">Geographic Information Systems</a></li>
                        <li><a href="http://electronics.stackexchange.com/" title="electronics and electrical engineering professionals, students, and enthusiasts">Electrical Engineering</a></li>
                        <li><a href="http://android.stackexchange.com/" title="enthusiasts and power users of the Android operating system">Android Enthusiasts</a></li>
                        <li><a href="http://security.stackexchange.com/" title="information security professionals">Information Security</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://dba.stackexchange.com/" title="database professionals who wish to improve their database skills and learn from others in the community">Database Administrators</a></li>
                        <li><a href="http://drupal.stackexchange.com/" title="Drupal developers and administrators">Drupal Answers</a></li>
                        <li><a href="http://sharepoint.stackexchange.com/" title="SharePoint enthusiasts">SharePoint</a></li>
                        <li><a href="http://ux.stackexchange.com/" title="user experience researchers and experts">User Experience</a></li>
                        <li><a href="http://mathematica.stackexchange.com/" title="users of Mathematica">Mathematica</a></li>
                        <li><a href="http://salesforce.stackexchange.com/" title="Salesforce administrators, implementation experts, developers and anybody in-between">Salesforce</a></li>
                        <li><a href="http://expressionengine.stackexchange.com/" title="administrators, end users, developers and designers for ExpressionEngine® CMS">ExpressionEngine® Answers</a></li>
                        <li><a href="http://crypto.stackexchange.com/" title="software developers, mathematicians and others interested in cryptography">Cryptography</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://codereview.stackexchange.com/" title="peer programmer code reviews">Code Review</a></li>
                        <li><a href="http://magento.stackexchange.com/" title="users of the Magento e-Commerce platform">Magento</a></li>
                        <li><a href="http://dsp.stackexchange.com/" title="practitioners of the art and science of signal, image and video processing">Signal Processing</a></li>
                        <li><a href="http://raspberrypi.stackexchange.com/" title="users and developers of hardware and software for Raspberry Pi">Raspberry Pi</a></li>
                        <li><a href="http://codegolf.stackexchange.com/" title="programming puzzle enthusiasts and code golfers">Programming Puzzles &amp; Code Golf</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#technology" class="more">
                                more (7)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://photo.stackexchange.com/" title="professional, enthusiast and amateur photographers">Photography</a></li>
                        <li><a href="http://scifi.stackexchange.com/" title="science fiction and fantasy enthusiasts">Science Fiction &amp; Fantasy</a></li>
                        <li><a href="http://graphicdesign.stackexchange.com/" title="Graphic Design professionals, students, and enthusiasts">Graphic Design</a></li>
                        <li><a href="http://movies.stackexchange.com/" title="movie and tv enthusiasts">Movies &amp; TV</a></li>
                        <li><a href="http://music.stackexchange.com/" title="musicians, students, and enthusiasts">Music: Practice &amp; Theory</a></li>
                        <li><a href="http://cooking.stackexchange.com/" title="professional and amateur chefs">Seasoned Advice (cooking)</a></li>
                        <li><a href="http://diy.stackexchange.com/" title="contractors and serious DIYers">Home Improvement</a></li>
                        <li><a href="http://money.stackexchange.com/" title="people who want to be financially literate">Personal Finance &amp; Money</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://academia.stackexchange.com/" title="academics and those enrolled in higher education">Academia</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#lifearts" class="more">
                                more (8)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://english.stackexchange.com/" title="linguists, etymologists, and serious English language enthusiasts">English Language &amp; Usage</a></li>
                        <li><a href="http://skeptics.stackexchange.com/" title="scientific skepticism">Skeptics</a></li>
                        <li><a href="http://judaism.stackexchange.com/" title="those who base their lives on Jewish law and tradition and anyone interested in learning more">Mi Yodeya (Judaism)</a></li>
                        <li><a href="http://travel.stackexchange.com/" title="road warriors and seasoned travelers">Travel</a></li>
                        <li><a href="http://christianity.stackexchange.com/" title="committed Christians, experts in Christianity and those interested in learning more">Christianity</a></li>
                        <li><a href="http://ell.stackexchange.com/" title="speakers of other languages learning English">English Language Learners</a></li>
                        <li><a href="http://japanese.stackexchange.com/" title="students, teachers, and linguists wanting to discuss the finer points of the Japanese language">Japanese Language</a></li>
                        <li><a href="http://gaming.stackexchange.com/" title="passionate videogamers on all platforms">Arqade (gaming)</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://bicycles.stackexchange.com/" title="people who build and repair bicycles, people who train cycling, or commute on bicycles">Bicycles</a></li>
                        <li><a href="http://rpg.stackexchange.com/" title="gamemasters and players of tabletop, paper-and-pencil role-playing games">Role-playing Games</a></li>
                        <li><a href="http://anime.stackexchange.com/" title="anime and manga fans">Anime &amp; Manga</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#culturerecreation" class="more">
                                more (18)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://math.stackexchange.com/" title="people studying math at any level and professionals in related fields">Mathematics</a></li>
                        <li><a href="http://stats.stackexchange.com/" title="people interested in statistics, machine learning, data analysis, data mining, and data visualization">Cross Validated (stats)</a></li>
                        <li><a href="http://cstheory.stackexchange.com/" title="theoretical computer scientists and researchers in related fields">Theoretical Computer Science</a></li>
                        <li><a href="http://physics.stackexchange.com/" title="active researchers, academics and students of physics">Physics</a></li>
                        <li><a href="http://mathoverflow.net/" title="professional mathematicians">MathOverflow</a></li>
                        <li><a href="http://chemistry.stackexchange.com/" title="scientists, academics, teachers and students">Chemistry</a></li>
                        <li><a href="http://biology.stackexchange.com/" title="biology researchers, academics, and students">Biology</a></li>
                        <li><a href="http://cs.stackexchange.com/" title="students, researchers and practitioners of computer science">Computer Science</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://philosophy.stackexchange.com/" title="those interested in logical reasoning">Philosophy</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#science" class="more">
                                more (3)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://stackapps.com/" title="apps, scripts, and development with the Stack Exchange API">Stack Apps</a></li>
                        <li><a href="http://meta.stackexchange.com/" title="meta-discussion of the Stack Exchange family of Q&amp;A websites">Meta Stack Exchange</a></li>
                        <li><a href="http://area51.stackexchange.com/" title="proposing new sites in the Stack Exchange network">Area 51</a></li>
                        <li><a href="http://careers.stackoverflow.com/">Stack Overflow Careers</a></li>
                    
                </ol>
            </td>
    </tr>
</tbody></table>
                </div>
            </div>
            <div id="copyright">
                site design / logo © 2016 Stack Exchange Inc; user contributions licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license">cc by-sa 3.0</a> 
                with <a href="http://blog.stackoverflow.com/2009/06/attribution-required/" rel="license">attribution required</a>
            </div>
            <div id="svnrev">
                rev 2016.10.4.4031
            </div>
                </div>
    </div>
    <noscript>
        &lt;div id="noscript-warning"&gt;Stack Overflow works best with JavaScript enabled&lt;img src="http://pixel.quantserve.com/pixel/p-c1rF4kxgLUzNc.gif" alt="" class="dno"&gt;&lt;/div&gt;
    </noscript>
<script>var p = "http", d = "static"; if (document.location.protocol == "https:") { p += "s"; d = "engine"; } var z = document.createElement("script"); z.type = "text/javascript"; z.async = true; z.src = p + "://" + d + ".adzerk.net/ados.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(z, s);</script>
<script>
    var ados = ados || {};
    ados.run = ados.run || [];
    
    
        
        ados.run.push(function () {
                setTimeout(function () { $("#adzerk-user-match").remove(); }, window.AUMIframeDone ? 0 : 2000);
                ados_setKeywords('ruby-on-rails,ruby,railstutorial.org,x-user-registered');; ados_load();
        });   
        
</script>

    <script>
            (function(i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function() { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m);
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
            
            ga('create', 'UA-5620270-1', {'userId': '9139245' });
            ga('set', 'dimension1', '9139245');             ga('set', 'dimension2', '|ruby-on-rails|ruby|railstutorial.org|');             ga('send', 'pageview');
        
        var _qevents = _qevents || [],
            _comscore = _comscore || [];
        (function () {
            var ssl='https:'==document.location.protocol,
                s=document.getElementsByTagName('script')[0],
                qc=document.createElement('script');
                qc.async = true;
                qc.src = (ssl ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
                s.parentNode.insertBefore(qc, s);
                _qevents.push({ qacct: "p-c1rF4kxgLUzNc" });
                            var sc=document.createElement('script');
                sc.async=true;
                sc.src=(ssl?'https://sb':'http://b') + '.scorecardresearch.com/beacon.js';
                s.parentNode.insertBefore(sc, s);
                _comscore.push({ c1: "2", c2: "17440561" });
        })();

    </script>
        
    
            <script type="text/javascript">
                
                (function(appendChild) {
                    Node.prototype.appendChild = function() {
                        var parent = this;
                        var newNode = arguments[0];
                        if (parent.nodeName === 'HEAD'
                            && newNode
                            && newNode.nodeName === 'SCRIPT'
                            && newNode.src) {
                            
                            window.setTimeout(function() {
                                var result = newNode.src.match(/^https:\/\/maps\.googleapis\.com\/maps\/api\/place\/js\/(\w+)Service\./i) || [];
                                var service = result[1];
                                if (service) {
                                    if (service === 'Autocompletion') service =  2;
                                    else if (service === 'Place') service = 1;
                                    else service = 0;
                                    StackExchange.using('gps', function() {
                                        StackExchange.gps.track('google_maps_places_api.call', { service: service });
                                    });
                                }
                            }, 0);
                        }
                        return appendChild.apply(this, arguments);
                    };
                })(Node.prototype.appendChild);
            </script>
    
<script async="" src="./ruby - Why does my rails rollback when I try to user.save_ - Stack Overflow_files/p.js"></script></body></html>